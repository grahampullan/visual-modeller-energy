var visualModellerEnergy=function(t){"use strict";class e{constructor(t){this.name=t.name||"socket",this.state=t.state||{},this.position=t.position||"left",this.order=t.order||0}}class n{constructor(t){this.name=t.name||"log",this.target=t.target||null,this.states=[],this.colorIndex=t.colorIndex||0,this.targetName=t.targetName||"targetName"}writeToLog(){this.states.push({...this.target.state})}clear(){this.states=[]}get displayData(){return{name:this.name,targetName:this.targetName,colorIndex:this.colorIndex,states:this.states}}}var i="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function a(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.hasOwnProperty(e)?{space:r[e],local:t}:t}function o(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i&&e.documentElement.namespaceURI===i?e.createElement(t):e.createElementNS(n,t)}}function s(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function l(t){var e=a(t);return(e.local?s:o)(e)}function c(){}function u(t){return null==t?c:function(){return this.querySelector(t)}}function h(){return[]}function f(t){return null==t?h:function(){return this.querySelectorAll(t)}}function d(t){return function(){return function(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}function p(t){return function(){return this.matches(t)}}function m(t){return function(e){return e.matches(t)}}var g=Array.prototype.find;function y(){return this.firstElementChild}var v=Array.prototype.filter;function x(){return Array.from(this.children)}function b(t){return new Array(t.length)}function w(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function _(t,e,n,i,r,a){for(var o,s=0,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],i[s]=o):n[s]=new w(t,a[s]);for(;s<l;++s)(o=e[s])&&(r[s]=o)}function k(t,e,n,i,r,a,o){var s,l,c,u=new Map,h=e.length,f=a.length,d=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(d[s]=c=o.call(l,l.__data__,s,e)+"",u.has(c)?r[s]=l:u.set(c,l));for(s=0;s<f;++s)c=o.call(t,a[s],s,a)+"",(l=u.get(c))?(i[s]=l,l.__data__=a[s],u.delete(c)):n[s]=new w(t,a[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(d[s])===l&&(r[s]=l)}function N(t){return t.__data__}function A(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function S(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function M(t){return function(){this.removeAttribute(t)}}function I(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $(t,e){return function(){this.setAttribute(t,e)}}function C(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function E(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function P(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function B(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function O(t){return function(){this.style.removeProperty(t)}}function T(t,e,n){return function(){this.style.setProperty(t,e,n)}}function z(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function L(t,e){return t.style.getPropertyValue(e)||B(t).getComputedStyle(t,null).getPropertyValue(e)}function D(t){return function(){delete this[t]}}function j(t,e){return function(){this[t]=e}}function R(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function q(t){return t.trim().split(/^|\s+/)}function H(t){return t.classList||new F(t)}function F(t){this._node=t,this._names=q(t.getAttribute("class")||"")}function Y(t,e){for(var n=H(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function X(t,e){for(var n=H(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function W(t){return function(){Y(this,t)}}function V(t){return function(){X(this,t)}}function U(t,e){return function(){(e.apply(this,arguments)?Y:X)(this,t)}}function G(){this.textContent=""}function K(t){return function(){this.textContent=t}}function Q(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Z(){this.innerHTML=""}function J(t){return function(){this.innerHTML=t}}function tt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function et(){this.nextSibling&&this.parentNode.appendChild(this)}function nt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function it(){return null}function rt(){var t=this.parentNode;t&&t.removeChild(this)}function at(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ot(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function st(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,a=e.length;i<a;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function lt(t,e,n){return function(){var i,r=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),void(i.value=e);this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function ct(t,e,n){var i=B(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function ut(t,e){return function(){return ct(this,t,e)}}function ht(t,e){return function(){return ct(this,t,e.apply(this,arguments))}}w.prototype={constructor:w,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},F.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ft=[null];function dt(t,e){this._groups=t,this._parents=e}function pt(){return new dt([[document.documentElement]],ft)}function mt(t){return"string"==typeof t?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],ft)}function gt(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}dt.prototype=pt.prototype={constructor:dt,select:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o,s=e[r],l=s.length,c=i[r]=new Array(l),h=0;h<l;++h)(a=s[h])&&(o=t.call(a,a.__data__,h,s))&&("__data__"in a&&(o.__data__=a.__data__),c[h]=o);return new dt(i,this._parents)},selectAll:function(t){t="function"==typeof t?d(t):f(t);for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(i.push(t.call(o,o.__data__,c,s)),r.push(o));return new dt(i,r)},selectChild:function(t){return this.select(null==t?y:function(t){return function(){return g.call(this.children,t)}}("function"==typeof t?t:m(t)))},selectChildren:function(t){return this.selectAll(null==t?x:function(t){return function(){return v.call(this.children,t)}}("function"==typeof t?t:m(t)))},filter:function(t){"function"!=typeof t&&(t=p(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o=e[r],s=o.length,l=i[r]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new dt(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,N);var n=e?k:_,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=r.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=i[c],h=r[c],f=h.length,d=A(t.call(u,u&&u.__data__,c,i)),p=d.length,m=s[c]=new Array(p),g=o[c]=new Array(p);n(u,h,m,g,l[c]=new Array(f),d,e);for(var y,v,x=0,b=0;x<p;++x)if(y=m[x]){for(x>=b&&(b=x+1);!(v=g[b])&&++b<p;);y._next=v||null}}return(o=new dt(o,i))._enter=s,o._exit=l,o},enter:function(){return new dt(this._enter||this._groups.map(b),this._parents)},exit:function(){return new dt(this._exit||this._groups.map(b),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,a=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?a.remove():n(a),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,a=i.length,o=Math.min(r,a),s=new Array(r),l=0;l<o;++l)for(var c,u=n[l],h=i[l],f=u.length,d=s[l]=new Array(f),p=0;p<f;++p)(c=u[p]||h[p])&&(d[p]=c);for(;l<r;++l)s[l]=n[l];return new dt(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,o=r[a];--a>=0;)(i=r[a])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=S);for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o,s=n[a],l=s.length,c=r[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(e)}return new dt(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],o=0,s=a.length;o<s;++o)(r=a[o])&&t.call(r,r.__data__,o,a);return this},attr:function(t,e){var n=a(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?I:M:"function"==typeof e?n.local?P:E:n.local?C:$)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?O:"function"==typeof e?z:T)(t,e,null==n?"":n)):L(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?D:"function"==typeof e?R:j)(t,e)):this.node()[t]},classed:function(t,e){var n=q(t+"");if(arguments.length<2){for(var i=H(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?U:e?W:V)(n,e))},text:function(t){return arguments.length?this.each(null==t?G:("function"==typeof t?Q:K)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Z:("function"==typeof t?tt:J)(t)):this.node().innerHTML},raise:function(){return this.each(et)},lower:function(){return this.each(nt)},append:function(t){var e="function"==typeof t?t:l(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:l(t),i=null==e?it:"function"==typeof e?e:u(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(rt)},clone:function(t){return this.select(t?ot:at)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?lt:st,i=0;i<o;++i)this.each(s(a[i],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<o;++i)if((r=a[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?ht:ut)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],a=0,o=r.length;a<o;++a)(i=r[a])&&(yield i)}};var yt={value:()=>{}};function vt(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new xt(i)}function xt(t){this._=t}function bt(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function wt(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=yt,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}xt.prototype=vt.prototype={constructor:xt,on:function(t,e){var n,i,r=this._,a=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),o=-1,s=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=a[o]).type)r[n]=wt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=wt(r[n],t.name,null);return this}for(;++o<s;)if((n=(t=a[o]).type)&&(n=bt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new xt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(i=this._[t]).length;a<n;++a)i[a].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};const _t={passive:!1},kt={capture:!0,passive:!1};function Nt(t){t.stopImmediatePropagation()}function At(t){t.preventDefault(),t.stopImmediatePropagation()}function St(t){var e=t.document.documentElement,n=mt(t).on("dragstart.drag",At,kt);"onselectstart"in e?n.on("selectstart.drag",At,kt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Mt(t,e){var n=t.document.documentElement,i=mt(t).on("dragstart.drag",null);e&&(i.on("click.drag",At,kt),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var It=t=>()=>t;function $t(t,{sourceEvent:e,subject:n,target:i,identifier:r,active:a,x:o,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function Ct(t){return!t.ctrlKey&&!t.button}function Et(){return this.parentNode}function Pt(t,e){return null==e?{x:t.x,y:t.y}:e}function Bt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ot(){var t,e,n,i,r=Ct,a=Et,o=Pt,s=Bt,l={},c=vt("start","drag","end"),u=0,h=0;function f(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",g).on("touchmove.drag",y,_t).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(o,s){if(!i&&r.call(this,o,s)){var l=x(this,a.call(this,o,s),o,s,"mouse");l&&(mt(o.view).on("mousemove.drag",p,kt).on("mouseup.drag",m,kt),St(o.view),Nt(o),n=!1,t=o.clientX,e=o.clientY,l("start",o))}}function p(i){if(At(i),!n){var r=i.clientX-t,a=i.clientY-e;n=r*r+a*a>h}l.mouse("drag",i)}function m(t){mt(t.view).on("mousemove.drag mouseup.drag",null),Mt(t.view,n),At(t),l.mouse("end",t)}function g(t,e){if(r.call(this,t,e)){var n,i,o=t.changedTouches,s=a.call(this,t,e),l=o.length;for(n=0;n<l;++n)(i=x(this,s,t,e,o[n].identifier,o[n]))&&(Nt(t),i("start",t,o[n]))}}function y(t){var e,n,i=t.changedTouches,r=i.length;for(e=0;e<r;++e)(n=l[i[e].identifier])&&(At(t),n("drag",t,i[e]))}function v(t){var e,n,r=t.changedTouches,a=r.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),e=0;e<a;++e)(n=l[r[e].identifier])&&(Nt(t),n("end",t,r[e]))}function x(t,e,n,i,r,a){var s,h,d,p=c.copy(),m=gt(a||n,e);if(null!=(d=o.call(t,new $t("beforestart",{sourceEvent:n,target:f,identifier:r,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),i)))return s=d.x-m[0]||0,h=d.y-m[1]||0,function n(a,o,c){var g,y=m;switch(a){case"start":l[r]=n,g=u++;break;case"end":delete l[r],--u;case"drag":m=gt(c||o,e),g=u}p.call(a,t,new $t(a,{sourceEvent:o,subject:d,target:f,identifier:r,active:g,x:m[0]+s,y:m[1]+h,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:p}),i)}}return f.filter=function(t){return arguments.length?(r="function"==typeof t?t:It(!!t),f):r},f.container=function(t){return arguments.length?(a="function"==typeof t?t:It(t),f):a},f.subject=function(t){return arguments.length?(o="function"==typeof t?t:It(t),f):o},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:It(!!t),f):s},f.on=function(){var t=c.on.apply(c,arguments);return t===c?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}function Tt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function zt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Lt(){}$t.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Dt=.7,jt=1/Dt,Rt="\\s*([+-]?\\d+)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ft=/^#([0-9a-f]{3,8})$/,Yt=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),Xt=new RegExp(`^rgb\\(${Ht},${Ht},${Ht}\\)$`),Wt=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${qt}\\)$`),Vt=new RegExp(`^rgba\\(${Ht},${Ht},${Ht},${qt}\\)$`),Ut=new RegExp(`^hsl\\(${qt},${Ht},${Ht}\\)$`),Gt=new RegExp(`^hsla\\(${qt},${Ht},${Ht},${qt}\\)$`),Kt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Qt(){return this.rgb().formatHex()}function Zt(){return this.rgb().formatRgb()}function Jt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ft.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?te(e):3===n?new ie(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ee(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ee(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Yt.exec(t))?new ie(e[1],e[2],e[3],1):(e=Xt.exec(t))?new ie(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Wt.exec(t))?ee(e[1],e[2],e[3],e[4]):(e=Vt.exec(t))?ee(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ut.exec(t))?ce(e[1],e[2]/100,e[3]/100,1):(e=Gt.exec(t))?ce(e[1],e[2]/100,e[3]/100,e[4]):Kt.hasOwnProperty(t)?te(Kt[t]):"transparent"===t?new ie(NaN,NaN,NaN,0):null}function te(t){return new ie(t>>16&255,t>>8&255,255&t,1)}function ee(t,e,n,i){return i<=0&&(t=e=n=NaN),new ie(t,e,n,i)}function ne(t,e,n,i){return 1===arguments.length?function(t){return t instanceof Lt||(t=Jt(t)),t?new ie((t=t.rgb()).r,t.g,t.b,t.opacity):new ie}(t):new ie(t,e,n,null==i?1:i)}function ie(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function re(){return`#${le(this.r)}${le(this.g)}${le(this.b)}`}function ae(){const t=oe(this.opacity);return`${1===t?"rgb(":"rgba("}${se(this.r)}, ${se(this.g)}, ${se(this.b)}${1===t?")":`, ${t})`}`}function oe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function se(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function le(t){return((t=se(t))<16?"0":"")+t.toString(16)}function ce(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new he(t,e,n,i)}function ue(t){if(t instanceof he)return new he(t.h,t.s,t.l,t.opacity);if(t instanceof Lt||(t=Jt(t)),!t)return new he;if(t instanceof he)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),o=NaN,s=a-r,l=(a+r)/2;return s?(o=e===a?(n-i)/s+6*(n<i):n===a?(i-e)/s+2:(e-n)/s+4,s/=l<.5?a+r:2-a-r,o*=60):s=l>0&&l<1?0:o,new he(o,s,l,t.opacity)}function he(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function fe(t){return(t=(t||0)%360)<0?t+360:t}function de(t){return Math.max(0,Math.min(1,t||0))}function pe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Tt(Lt,Jt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Qt,formatHex:Qt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ue(this).formatHsl()},formatRgb:Zt,toString:Zt}),Tt(ie,ne,zt(Lt,{brighter(t){return t=null==t?jt:Math.pow(jt,t),new ie(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Dt:Math.pow(Dt,t),new ie(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ie(se(this.r),se(this.g),se(this.b),oe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:re,formatHex:re,formatHex8:function(){return`#${le(this.r)}${le(this.g)}${le(this.b)}${le(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ae,toString:ae})),Tt(he,(function(t,e,n,i){return 1===arguments.length?ue(t):new he(t,e,n,null==i?1:i)}),zt(Lt,{brighter(t){return t=null==t?jt:Math.pow(jt,t),new he(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Dt:Math.pow(Dt,t),new he(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new ie(pe(t>=240?t-240:t+120,r,i),pe(t,r,i),pe(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new he(fe(this.h),de(this.s),de(this.l),oe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=oe(this.opacity);return`${1===t?"hsl(":"hsla("}${fe(this.h)}, ${100*de(this.s)}%, ${100*de(this.l)}%${1===t?")":`, ${t})`}`}}));var me=t=>()=>t;function ge(t){return 1==(t=+t)?ye:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):me(isNaN(e)?n:e)}}function ye(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):me(isNaN(t)?e:t)}var ve=function t(e){var n=ge(e);function i(t,e){var i=n((t=ne(t)).r,(e=ne(e)).r),r=n(t.g,e.g),a=n(t.b,e.b),o=ye(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=a(e),t.opacity=o(e),t+""}}return i.gamma=t,i}(1);function xe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var be=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,we=new RegExp(be.source,"g");function _e(t,e){var n,i,r,a=be.lastIndex=we.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=be.exec(t))&&(i=we.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:xe(n,i)})),a=we.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}var ke,Ne=180/Math.PI,Ae={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Se(t,e,n,i,r,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*Ne,skewX:Math.atan(l)*Ne,scaleX:o,scaleY:s}}function Me(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],l=[];return a=t(a),o=t(o),function(t,i,r,a,o,s){if(t!==r||i!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:xe(t,r)},{i:l-2,x:xe(i,a)})}else(r||a)&&o.push("translate("+r+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(r(n)+"rotate(",null,i)-2,x:xe(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(a.rotate,o.rotate,s,l),function(t,e,n,a){t!==e?a.push({i:n.push(r(n)+"skewX(",null,i)-2,x:xe(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(a.skewX,o.skewX,s,l),function(t,e,n,i,a,o){if(t!==n||e!==i){var s=a.push(r(a)+"scale(",null,",",null,")");o.push({i:s-4,x:xe(t,n)},{i:s-2,x:xe(e,i)})}else 1===n&&1===i||a.push(r(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(t){for(var e,n=-1,i=l.length;++n<i;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Ie=Me((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ae:Se(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),$e=Me((function(t){return null==t?Ae:(ke||(ke=document.createElementNS("http://www.w3.org/2000/svg","g")),ke.setAttribute("transform",t),(t=ke.transform.baseVal.consolidate())?Se((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ae)}),", ",")",")");function Ce(t){return((t=Math.exp(t))+1/t)/2}var Ee,Pe,Be=function t(e,n,i){function r(t,r){var a,o,s=t[0],l=t[1],c=t[2],u=r[0],h=r[1],f=r[2],d=u-s,p=h-l,m=d*d+p*p;if(m<1e-12)o=Math.log(f/c)/e,a=function(t){return[s+t*d,l+t*p,c*Math.exp(e*t*o)]};else{var g=Math.sqrt(m),y=(f*f-c*c+i*m)/(2*c*n*g),v=(f*f-c*c-i*m)/(2*f*n*g),x=Math.log(Math.sqrt(y*y+1)-y),b=Math.log(Math.sqrt(v*v+1)-v);o=(b-x)/e,a=function(t){var i=t*o,r=Ce(x),a=c/(n*g)*(r*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*i+x)-function(t){return((t=Math.exp(t))-1/t)/2}(x));return[s+a*d,l+a*p,c*r/Ce(e*i+x)]}}return a.duration=1e3*o*e/Math.SQRT2,a}return r.rho=function(e){var n=Math.max(.001,+e),i=n*n;return t(n,i,i*i)},r}(Math.SQRT2,2,4),Oe=0,Te=0,ze=0,Le=0,De=0,je=0,Re="object"==typeof performance&&performance.now?performance:Date,qe="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function He(){return De||(qe(Fe),De=Re.now()+je)}function Fe(){De=0}function Ye(){this._call=this._time=this._next=null}function Xe(t,e,n){var i=new Ye;return i.restart(t,e,n),i}function We(){De=(Le=Re.now())+je,Oe=Te=0;try{!function(){He(),++Oe;for(var t,e=Ee;e;)(t=De-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Oe}()}finally{Oe=0,function(){var t,e,n=Ee,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ee=e);Pe=t,Ue(i)}(),De=0}}function Ve(){var t=Re.now(),e=t-Le;e>1e3&&(je-=e,Le=t)}function Ue(t){Oe||(Te&&(Te=clearTimeout(Te)),t-De>24?(t<1/0&&(Te=setTimeout(We,t-Re.now()-je)),ze&&(ze=clearInterval(ze))):(ze||(Le=Re.now(),ze=setInterval(Ve,1e3)),Oe=1,qe(We)))}function Ge(t,e,n){var i=new Ye;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}Ye.prototype=Xe.prototype={constructor:Ye,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?He():+n)+(null==e?0:+e),this._next||Pe===this||(Pe?Pe._next=this:Ee=this,Pe=this),this._call=t,this._time=n,Ue()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ue())}};var Ke=vt("start","end","cancel","interrupt"),Qe=[];function Ze(t,e,n,i,r,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function a(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var c,u,h,f;if(1!==n.state)return l();for(c in r)if((f=r[c]).name===n.name){if(3===f.state)return Ge(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[c]):+c<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[c])}if(Ge((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=f);i.length=u+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,o=i.length;++a<o;)i[a].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Xe(a,0,n.time)}(t,n,{name:e,index:i,group:r,on:Ke,tween:Qe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function Je(t,e){var n=en(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function tn(t,e){var n=en(t,e);if(n.state>3)throw new Error("too late; already running");return n}function en(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function nn(t,e){var n,i,r,a=t.__transition,o=!0;if(a){for(r in e=null==e?null:e+"",a)(n=a[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[r]):o=!1;o&&delete t.__transition}}function rn(t,e){var n,i;return function(){var r=tn(this,t),a=r.tween;if(a!==n)for(var o=0,s=(i=n=a).length;o<s;++o)if(i[o].name===e){(i=i.slice()).splice(o,1);break}r.tween=i}}function an(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var a=tn(this,t),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=s;break}l===c&&r.push(s)}a.tween=r}}function on(t,e,n){var i=t._id;return t.each((function(){var t=tn(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return en(t,i).value[e]}}function sn(t,e){var n;return("number"==typeof e?xe:e instanceof Jt?ve:(n=Jt(e))?(e=n,ve):_e)(t,e)}function ln(t){return function(){this.removeAttribute(t)}}function cn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function un(t,e,n){var i,r,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===i?r:r=e(i=o,n)}}function hn(t,e,n){var i,r,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===i?r:r=e(i=o,n)}}function fn(t,e,n){var i,r,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(s=l+"")?null:o===i&&s===r?a:(r=s,a=e(i=o,l));this.removeAttribute(t)}}function dn(t,e,n){var i,r,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:o===i&&s===r?a:(r=s,a=e(i=o,l));this.removeAttributeNS(t.space,t.local)}}function pn(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function mn(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function gn(t,e){return function(){Je(this,t).delay=+e.apply(this,arguments)}}function yn(t,e){return e=+e,function(){Je(this,t).delay=e}}function vn(t,e){return function(){tn(this,t).duration=+e.apply(this,arguments)}}function xn(t,e){return e=+e,function(){tn(this,t).duration=e}}var bn=pt.prototype.constructor;function wn(t){return function(){this.style.removeProperty(t)}}var _n=0;function kn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Nn(){return++_n}var An=pt.prototype;kn.prototype={constructor:kn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=u(t));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s,l,c=i[o],h=c.length,f=a[o]=new Array(h),d=0;d<h;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),f[d]=l,Ze(f[d],e,n,d,f,en(s,n)));return new kn(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=f(t));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var l,c=i[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=t.call(l,l.__data__,h,c),m=en(l,n),g=0,y=p.length;g<y;++g)(d=p[g])&&Ze(d,e,n,g,p,m);a.push(p),o.push(l)}return new kn(a,o,e,n)},selectChild:An.selectChild,selectChildren:An.selectChildren,filter:function(t){"function"!=typeof t&&(t=p(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o=e[r],s=o.length,l=i[r]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new kn(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var l,c=e[s],u=n[s],h=c.length,f=o[s]=new Array(h),d=0;d<h;++d)(l=c[d]||u[d])&&(f[d]=l);for(;s<i;++s)o[s]=e[s];return new kn(o,this._parents,this._name,this._id)},selection:function(){return new bn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Nn(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=en(o,e);Ze(o,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new kn(i,this._parents,t,n)},call:An.call,nodes:An.nodes,node:An.node,size:An.size,empty:An.empty,each:An.each,on:function(t,e){var n=this._id;return arguments.length<2?en(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Je:tn;return function(){var o=a(this,t),s=o.on;s!==i&&(r=(i=s).copy()).on(e,n),o.on=r}}(n,t,e))},attr:function(t,e){var n=a(t),i="transform"===n?$e:sn;return this.attrTween(t,"function"==typeof e?(n.local?dn:fn)(n,i,on(this,"attr."+t,e)):null==e?(n.local?cn:ln)(n):(n.local?hn:un)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=a(t);return this.tween(n,(i.local?pn:mn)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?Ie:sn;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var a=L(this,t),o=(this.style.removeProperty(t),L(this,t));return a===o?null:a===n&&o===i?r:r=e(n=a,i=o)}}(t,i)).on("end.style."+t,wn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,a;return function(){var o=L(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=L(this,t)),o===l?null:o===i&&l===r?a:(r=l,a=e(i=o,s))}}(t,i,on(this,"style."+t,e))).each(function(t,e){var n,i,r,a,o="style."+e,s="end."+o;return function(){var l=tn(this,t),c=l.on,u=null==l.value[o]?a||(a=wn(e)):void 0;c===n&&r===u||(i=(n=c).copy()).on(s,r=u),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,a=n+"";return function(){var o=L(this,t);return o===a?null:o===i?r:r=e(i=o,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function a(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,a,n)),i}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(on(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=en(this.node(),n).tween,a=0,o=r.length;a<o;++a)if((i=r[a]).name===t)return i.value;return null}return this.each((null==e?rn:an)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?gn:yn)(e,t)):en(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?vn:xn)(e,t)):en(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){tn(this,t).ease=e}}(e,t)):en(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;tn(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0==--r&&a()}};n.each((function(){var n=tn(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===r&&a()}))},[Symbol.iterator]:An[Symbol.iterator]};var Sn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Mn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}pt.prototype.interrupt=function(t){return this.each((function(){nn(this,t)}))},pt.prototype.transition=function(t){var e,n;t instanceof kn?(e=t._id,t=t._name):(e=Nn(),(n=Sn).time=He(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],l=s.length,c=0;c<l;++c)(o=s[c])&&Ze(o,t,e,c,s,n||Mn(o,e));return new kn(i,this._parents,t,e)};var In=t=>()=>t;function $n(t,{sourceEvent:e,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Cn(t,e,n){this.k=t,this.x=e,this.y=n}Cn.prototype={constructor:Cn,scale:function(t){return 1===t?this:new Cn(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Cn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var En=new Cn(1,0,0);function Pn(t){t.stopImmediatePropagation()}function Bn(t){t.preventDefault(),t.stopImmediatePropagation()}function On(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Tn(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function zn(){return this.__zoom||En}function Ln(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Dn(){return navigator.maxTouchPoints||"ontouchstart"in this}function jn(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Rn(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,a,o,s,l,c,u,h,f,d=t._root,p={data:i},m=t._x0,g=t._y0,y=t._x1,v=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(a=(m+y)/2))?m=a:y=a,(u=n>=(o=(g+v)/2))?g=o:v=o,r=d,!(d=d[h=u<<1|c]))return r[h]=p,t;if(s=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===s&&n===l)return p.next=d,r?r[h]=p:t._root=p,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(c=e>=(a=(m+y)/2))?m=a:y=a,(u=n>=(o=(g+v)/2))?g=o:v=o}while((h=u<<1|c)==(f=(l>=o)<<1|s>=a));return r[f]=d,r[h]=p,t}function qn(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function Hn(t){return t[0]}function Fn(t){return t[1]}function Yn(t,e,n){var i=new Xn(null==e?Hn:e,null==n?Fn:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Xn(t,e,n,i,r,a){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=a,this._root=void 0}function Wn(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}Cn.prototype;var Vn=Yn.prototype=Xn.prototype;function Un(t){return function(){return t}}function Gn(t){return 1e-6*(t()-.5)}Vn.copy=function(){var t,e,n=new Xn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=Wn(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=Wn(e));return n},Vn.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Rn(this.cover(e,n),e,n,t)},Vn.addAll=function(t){var e,n,i,r,a=t.length,o=new Array(a),s=new Array(a),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(o[n]=i,s[n]=r,i<l&&(l=i),i>u&&(u=i),r<c&&(c=r),r>h&&(h=r));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<a;++n)Rn(this,o[n],s[n],t[n]);return this},Vn.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,a=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,a=(i=Math.floor(e))+1;else{for(var o,s,l=r-n||1,c=this._root;n>t||t>=r||i>e||e>=a;)switch(s=(e<i)<<1|t<n,(o=new Array(4))[s]=c,c=o,l*=2,s){case 0:r=n+l,a=i+l;break;case 1:n=r-l,a=i+l;break;case 2:r=n+l,i=a-l;break;case 3:n=r-l,i=a-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=a,this},Vn.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Vn.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Vn.find=function(t,e,n){var i,r,a,o,s,l,c,u=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],m=this._root;for(m&&p.push(new qn(m,u,h,f,d)),null==n?n=1/0:(u=t-n,h=e-n,f=t+n,d=e+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(r=l.x0)>f||(a=l.y0)>d||(o=l.x1)<u||(s=l.y1)<h))if(m.length){var g=(r+o)/2,y=(a+s)/2;p.push(new qn(m[3],g,y,o,s),new qn(m[2],r,y,g,s),new qn(m[1],g,a,o,y),new qn(m[0],r,a,g,y)),(c=(e>=y)<<1|t>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var v=t-+this._x.call(null,m.data),x=e-+this._y.call(null,m.data),b=v*v+x*x;if(b<n){var w=Math.sqrt(n=b);u=t-w,h=e-w,f=t+w,d=e+w,i=m.data}}return i},Vn.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,i,r,a,o,s,l,c,u,h,f,d=this._root,p=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=a>=(s=(p+g)/2))?p=s:g=s,(u=o>=(l=(m+y)/2))?m=l:y=l,e=d,!(d=d[h=u<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=r,this)},Vn.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Vn.root=function(){return this._root},Vn.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Vn.visit=function(t){var e,n,i,r,a,o,s=[],l=this._root;for(l&&s.push(new qn(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,a=e.x1,o=e.y1)&&l.length){var c=(i+a)/2,u=(r+o)/2;(n=l[3])&&s.push(new qn(n,c,u,a,o)),(n=l[2])&&s.push(new qn(n,i,u,c,o)),(n=l[1])&&s.push(new qn(n,c,r,a,u)),(n=l[0])&&s.push(new qn(n,i,r,c,u))}return this},Vn.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new qn(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var a,o=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(o+l)/2,h=(s+c)/2;(a=r[0])&&n.push(new qn(a,o,s,u,h)),(a=r[1])&&n.push(new qn(a,u,s,l,h)),(a=r[2])&&n.push(new qn(a,o,h,u,c)),(a=r[3])&&n.push(new qn(a,u,h,l,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Vn.x=function(t){return arguments.length?(this._x=t,this):this._x},Vn.y=function(t){return arguments.length?(this._y=t,this):this._y};const Kn=4294967296;function Qn(t){return t.x}function Zn(t){return t.y}var Jn=Math.PI*(3-Math.sqrt(5));function ti(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),a=0,o=.6,s=new Map,l=Xe(h),c=vt("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%Kn)/Kn}();function h(){f(),c.call("tick",e),n<i&&(l.stop(),c.call("end",e))}function f(i){var l,c,u=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(a-n)*r,s.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(.5+n),a=n*Jn;e.x=r*Math.cos(a),e.y=r*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},randomSource:function(t){return arguments.length?(u=t,s.forEach(p),e):u},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,i){var r,a,o,s,l,c=0,u=t.length;for(null==i?i=1/0:i*=i,c=0;c<u;++c)(o=(r=e-(s=t[c]).x)*r+(a=n-s.y)*a)<i&&(l=s,i=o);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}class ei{constructor(t){t||(t={}),this.flag=t.flag||!1,this._state=t.state,this.observers=[],this.observerIdMax=0}set state(t){this._state=t,this.flag&&this._state?(this.observers.forEach((t=>{t.observer()})),this._state=!1):this.observers.forEach((e=>{e.observer(t)}))}get state(){return this._state}subscribe(t){let e=this.observerIdMax;return this.observers.push({observer:t,id:e}),this.observerIdMax++,e}isSubscribed(t){return this.observers.map((t=>t.observer)).includes(t)}isSubscribedById(t){return this.observers.map((t=>t.id)).includes(t)}unsubscribe(t){this.observers=this.observers.filter((e=>e.observer!==t))}unsubscribeById(t){this.observers=this.observers.filter((e=>e.id!==t))}setObserverFirstById(t){let e=this.observers.filter((e=>e.id===t))[0];this.observers=this.observers.filter((e=>e.id!==t)),this.observers.unshift(e)}setObserverLastById(t){let e=this.observers.filter((e=>e.id===t))[0];this.observers=this.observers.filter((e=>e.id!==t)),this.observers.push(e)}}function ni(t){return function(){return t}}function ii(t){return 1e-6*(t()-.5)}function ri(t){return t.x+.5*t.width+t.vx}function ai(t){return t.y+.5*t.height+t.vy}let oi=class{constructor(t){this.className=t.className||"",this.sharedState={},this.boxes=[],this.maxBox=0,this.id=t.id||"cont-0",this.parentId=t.parentId||"board-0",this.boardId=t.boardId||"board-0",this.x=t.x||0,this.y=t.y||0,this.width=t.width||200,this.height=t.height||300,this.heightPerCent=t.heightPerCent,this.widthPerCent=t.widthPerCent,this.xPerCent=t.xPerCent,this.yPerCent=t.yPerCent,this.quantiseX=t.quantiseX||!1,this.quantiseY=t.quantiseY||!1,this.margin=t.margin||0,this.gridX=t.gridX,this.gridWidth=t.gridWidth,this.gridY=t.gridY,this.gridHeight=t.gridHeight,this.fixed=t.fixed||!1,this.sharedState.gridXMax=t.gridXMax||12,this.allowChildrenResizeOnBoardZoom=t.allowChildrenResizeOnBoardZoom||!0,this.autoLayout=t.autoLayout||!1,this.autoNoOverlap=t.autoNoOverlap||!1,this.boxInsertOrder=[],this.boxesSharedStateKeys=t.boxesSharedStateKeys||["boxId"],this.componentMargin=t.componentMargin||{top:10,right:10,bottom:10,left:10};const e=new ei({flag:!0,state:!1});e.subscribe(this.setAutoLayoutAndUpdate.bind(this));const n=new ei({flag:!1,state:{}});n.subscribe(this.setAutoNoOverlap.bind(this));const i=new ei({state:{pt:{x:0,y:0},id:"box-0"}});i.subscribe(this.setInsertOrder.bind(this));const r=new ei({flag:!1,state:{boxesToAdd:[],boxesToRemove:[]}});r.subscribe(this.updateBoxes.bind(this)),this.sharedState={...this.sharedState,requestAutoLayout:e,requestAutoNoOverlap:n,checkInsertOrder:i,requestUpdateBoxes:r},this.component=t.component,this.autoNoOverlap&&this.createForceSimulation(),this.locationForChildBoxes=t.locationForChildBoxes}addBox(t){const e=this.getNewBoxId;t.id=e,t.boxId=e,void 0!==this.locationForChildBoxes?this.parentIdForChildBoxes=`${this.boxId}-${this.locationForChildBoxes}`:this.parentIdForChildBoxes=this.boxId,t.parentId=this.parentIdForChildBoxes,t.parentBoxId=this.boxId,t.untransformed={x:t.x,y:t.y,width:t.width,height:t.height},t.sharedStateByAncestorId={...this.sharedStateByAncestorId},t.sharedStateByAncestorId[this.id]=this.sharedState,t.ancestorIds=[...this.ancestorIds],t.ancestorIds.push(this.boxId);const n=t.component;void 0!==n&&(n.sharedState=t.sharedState,n.sharedStateByAncestorId=t.sharedStateByAncestorId,n.ancestorIds=t.ancestorIds,n.id=t.componentId,n.boxId=t.boxId,n.boardId=this.boardId),this.boxes.push(t),this.boxInsertOrder.push(t.id);const i=this.boxesSharedStateKeys,r=this.boxes.map((t=>{const e={};return i.forEach((i=>{e[i]=void 0!==n?t.component[i]:t[i]})),e}));return this.sharedState.boxes=r,this.autoNoOverlap&&this.createForceSimulation(),e}removeBox(t){const e=this.boxes.find((e=>e.id==t));e.component&&e.component.remove(),this.boxes=this.boxes.filter((e=>e.id!==t)),this.sharedState.boxes=this.sharedState.boxes.filter((e=>e.boxId!==t)),this.boxInsertOrder=this.boxInsertOrder.filter((e=>e!==t)),mt(`#${t}`).remove()}updateBoxes(t){const e=t.boxesToAdd,n=t.boxesToRemove;e.forEach((t=>{this.addBox(t)})),n.forEach((t=>{this.removeBox(t)})),e.forEach((t=>{t.make()})),this.setAutoLayoutAndUpdate()}get getNewBoxId(){const t=`${this.boxId}-box-${this.maxBox}`;return this.maxBox++,t}get componentId(){return`${this.boxId}-component`}get getAllBoxes(){const t=[],e=n=>{n.forEach((n=>{t.push(n),0!==n.boxes.length&&e(n.boxes)}))};return e(this.boxes),t}setSize(){const t=mt(`#${this.parentBoxId}`).node(),e=this.sharedStateByAncestorId[this.parentBoxId].gridXMax;this.dx=t.clientWidth/e,void 0!==this.widthPerCent&&(this.width=this.widthPerCent/100*t.clientWidth),void 0!==this.heightPerCent&&(this.height=this.heightPerCent/100*t.clientHeight),this.quantiseX&&(this.x=this.gridX*this.dx,this.width=this.gridWidth*this.dx),this.quantiseY&&(this.y=this.gridY*this.dx,this.height=this.gridHeight*this.dx),void 0!==this.xPerCent&&(this.x=this.xPerCent/100*t.clientWidth),void 0!==this.yPerCent&&(this.y=this.yPerCent/100*t.clientHeight)}setQuantise(){const t=mt(`#${this.parentId}`).node(),e=this.sharedStateByAncestorId[this.parentBoxId].gridXMax;this.dx=t.clientWidth/e,this.quantiseX&&(this.gridX=Math.round(this.x/this.dx),this.x=this.gridX*this.dx,this.gridWidth=Math.round(this.width/this.dx),this.width=this.gridWidth*this.dx),this.quantiseY&&(this.gridY=Math.round(this.y/this.dx),this.y=this.gridY*this.dx,this.gridHeight=Math.round(this.height/this.dx),this.height=this.gridHeight*this.dx)}setUntransformed(){const t=this.sharedStateByAncestorId[this.boardId].transform,e={};e.width=this.width/t.k,e.height=this.height/t.k,e.x=(this.x-t.x)/t.k,e.y=(this.y-t.y)/t.k,this.untransformed=e}renderDivPosition(){mt(`#${this.id}`).style("width",this.width-2*this.margin+"px").style("height",this.height-2*this.margin+"px").style("left",`${this.x+this.margin}px`).style("top",`${this.y+this.margin}px`)}raiseDiv(){mt(`#${this.id}`).raise()}makeComponentDiv(){mt(`#${this.id}`).append("div").attr("id",`${this.componentId}`).attr("class","board-box-component").style("width",this.width-this.componentMargin.left-this.componentMargin.right+"px").style("height",this.height-this.componentMargin.top-this.componentMargin.bottom+"px").style("left",`${this.componentMargin.left}px`).style("top",`${this.componentMargin.top}px`).style("position","absolute").style("overflow","hidden").style("pointer-events","none")}updateComponentDiv(){mt(`#${this.id}`).select(".board-box-component").style("width",this.width-this.componentMargin.left-this.componentMargin.right+"px").style("height",this.height-this.componentMargin.top-this.componentMargin.bottom+"px").style("left",`${this.componentMargin.left}px`).style("top",`${this.componentMargin.top}px`)}setAutoLayout(){if(!this.autoLayout)return;let t=this.width;this.height;let e,n=0,i=0,r={x:0,y:0},a=0,o=0,s=0;this.boxInsertOrder.forEach((l=>{let c=this.boxes.find((t=>t.id==l)),u=c.width,h=c.height,f=!1,d=0;for(;!f&&d<10;){0==i&&0==n&&(a=h+1),0==i&&(e=a,a=Math.max(a,h));let l=t-r.x,p=o+a-r.y,m=!1,g=!1;u<=l&&0==i&&(m=!0),u<=s&&i>0&&(m=!0),h<=p&&(g=!0),0==n&&0==i&&(m=!0),m&&g&&(c.x=r.x,c.y=r.y,r.y+=h,s=Math.max(s,u),i++,f=!0),m||0!=i||(a==h&&(a=e),r.x=0,r.y=o+a,o+=a,n=0,i=0),!m&&i>0&&(r.x+=s,r.y=o,n++,i=0,s=0),g||(r.x+=s,r.y=o,n++,i=0,s=0),d++}}))}setAutoLayoutAndUpdate(){this.setAutoLayout(),this.updateDescendants("normal")}createForceSimulation(){void 0!==this.simulation&&this.simulation.stop(),this.width,this.height;const t=this.updateDescendants.bind(this),e=ti(this.boxes).force("manyBody",function(){var t,e,n,i,r,a=Un(-30),o=1,s=1/0,l=.81;function c(n){var r,a=t.length,o=Yn(t,Qn,Zn).visitAfter(h);for(i=n,r=0;r<a;++r)e=t[r],o.visit(f)}function u(){if(t){var e,n,i=t.length;for(r=new Array(i),e=0;e<i;++e)n=t[e],r[n.index]=+a(n,e,t)}}function h(t){var e,n,i,a,o,s=0,l=0;if(t.length){for(i=a=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,i+=n*e.x,a+=n*e.y);t.x=i/l,t.y=a/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function f(t,a,c,u){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,d=u-a,p=h*h+f*f;if(d*d/l<p)return p<s&&(0===h&&(p+=(h=Gn(n))*h),0===f&&(p+=(f=Gn(n))*f),p<o&&(p=Math.sqrt(o*p)),e.vx+=h*t.value*i/p,e.vy+=f*t.value*i/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===h&&(p+=(h=Gn(n))*h),0===f&&(p+=(f=Gn(n))*f),p<o&&(p=Math.sqrt(o*p)));do{t.data!==e&&(d=r[t.data.index]*i/p,e.vx+=h*d,e.vy+=f*d)}while(t=t.next)}}return c.initialize=function(e,i){t=e,n=i,u()},c.strength=function(t){return arguments.length?(a="function"==typeof t?t:Un(+t),u(),c):a},c.distanceMin=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.distanceMax=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}().strength(100)).force("collide",function(t){var e,n,i,r=1,a=1;function o(){for(var t,o,l,c,u,h,f,d=e.length,p=0;p<a;++p)for(o=Yn(e,ri,ai).visitAfter(s),t=0;t<d;++t)l=e[t],h=n[l.index],f=h*h,c=l.x+.5*l.width+l.vx,u=l.y+.5*l.height+l.vy,o.visit(m);function m(t,e,n,a,o){var s=t.data,d=t.r,p=h+d;if(!s)return e>c+p||a<c-p||n>u+p||o<u-p;if(s.index>l.index){let t=c-(s.x+.5*s.width)-s.vx,e=u-(s.y+.5*s.height)-s.vy,n=t*t+e*e;n<p*p&&(0===t&&(t=ii(i),n+=t*t),0===e&&(e=ii(i),n+=e*e),n=(p-(n=Math.sqrt(n)))/n*r,l.vx+=(t*=n)*(p=(d*=d)/(f+d)),l.vy+=(e*=n)*p,s.vx-=t*(p=1-p),s.vy-=e*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var i,r,a=e.length;for(n=new Array(a),i=0;i<a;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=ni(null==t?1:+t)),o.initialize=function(t,n){e=t,i=n,l()},o.iterations=function(t){return arguments.length?(a=+t,o):a},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:ni(+e),l(),o):t},o}((t=>.45*Math.sqrt(t.width**2+t.height**2))).iterations(4)).on("tick",(function(){this.alpha()<this.alphaMin()?t("normal"):t("layout")})).alpha(1).alphaTarget(0).alphaDecay(.1).alphaMin(.5);this.simulation=e}setAutoNoOverlap(t){if(!this.autoNoOverlap)return;const e=t.reset,n=t.fixedId;this.boxes.filter((t=>t.id!==n)).forEach((t=>{t.id!==n&&(t.fx=null,t.fy=null)})),e?this.createForceSimulation():this.simulation.alpha(1).restart()}requestParentAutoLayout(){const t=this.sharedStateByAncestorId[this.parentBoxId];void 0!==t.requestAutoLayout&&(t.requestAutoLayout.state=!0)}requestParentAutoNoOverlap(t,e){const n=this.sharedStateByAncestorId[this.parentBoxId];void 0!==n.requestAutoNoOverlap&&(n.requestAutoNoOverlap.state={reset:t,fixedId:e})}setParentInsertOrder(t){void 0!==this.sharedStateByAncestorId[this.parentBoxId].checkInsertOrder&&(this.sharedStateByAncestorId[this.parentBoxId].checkInsertOrder.state=t)}setInsertOrder(t){const e=t.pt,n=t.id;let i,r=this.boxInsertOrder,a=!1;this.boxes.forEach((t=>{let o=t.x+1,s=t.x+t.width-2,l=t.y+1,c=t.y+t.height-2;if(e.x>o&&e.x<=s&&e.y>=l&&e.y<=c&&n!==t.id){a=!0;let e=t.id;i=r.filter((t=>t!==n));let o=i.indexOf(e);i.splice(o,0,n)}})),a&&(this.boxInsertOrder=i)}drag(t){this.x=t.x,this.y=t.y,this.fx=t.x,this.fy=t.y,this.setQuantise(),this.raiseDiv(),this.update("move"),this.updateDescendants("move"),this.requestParentAutoNoOverlap(!1,this.id)}dragEnd(t){this.setParentInsertOrder({pt:{x:t.x,y:t.y},id:this.id}),this.requestParentAutoLayout(),this.requestParentAutoNoOverlap(!1,this.id)}leftDrag(t){this.x=t.x;let e=this.x-this.x0;this.width=this.width0-e,this.setQuantise(),this.raiseDiv(),this.update("normal"),this.updateDescendants("normal"),this.fx=this.x,this.fy=this.y,this.requestParentAutoNoOverlap(!0,this.id)}rightDrag(t){this.width=t.x,this.setQuantise(),this.raiseDiv(),this.update("normal"),this.updateDescendants("normal"),this.fx=this.x,this.fy=this.y,this.requestParentAutoNoOverlap(!0,this.id)}bottomDrag(t){this.height=t.y,this.setQuantise(),this.raiseDiv(),this.update("normal"),this.updateDescendants("normal"),this.fx=this.x,this.fy=this.y,this.requestParentAutoNoOverlap(!0,this.id)}bottomLeftDrag(t){this.x=t.x;let e=this.x-this.x0;this.width=this.width0-e,this.height=t.y,this.setQuantise(),this.raiseDiv(),this.update("normal"),this.updateDescendants("normal"),this.fx=this.x,this.fy=this.y,this.requestParentAutoNoOverlap(!0,this.id)}bottomRightDrag(t){this.width=t.x,this.height=t.y,this.setQuantise(),this.raiseDiv(),this.update("normal"),this.updateDescendants("normal"),this.fx=this.x,this.fy=this.y,this.requestParentAutoNoOverlap(!0,this.id)}topLeftDrag(t){this.x=t.x,this.y=t.y;let e=this.x-this.x0;this.width=this.width0-e;let n=this.y-this.y0;this.height=this.height0-n,this.setQuantise(),this.raiseDiv(),this.update("normal"),this.updateDescendants("normal"),this.fx=this.x,this.fy=this.y,this.requestParentAutoNoOverlap(!0,this.id)}topRightDrag(t){this.y=t.y,this.width=t.x;let e=this.y-this.y0;this.height=this.height0-e,this.setQuantise(),this.raiseDiv(),this.update("normal"),this.updateDescendants("normal"),this.fx=this.x,this.fy=this.y,this.requestParentAutoNoOverlap(!0,this.id)}dragStart(t){this.x0=this.x,this.y0=this.y,this.width0=this.width,this.height0=this.height,this.fx=this.x,this.fy=this.y}make(){const t=this.drag.bind(this),e=this.leftDrag.bind(this),n=this.rightDrag.bind(this),i=this.bottomDrag.bind(this),r=this.bottomLeftDrag.bind(this),a=this.bottomRightDrag.bind(this),o=this.topLeftDrag.bind(this),s=this.topRightDrag.bind(this),l=this.dragStart.bind(this),c=this.dragEnd.bind(this);this.requestParentAutoLayout.bind(this);const u=mt(`#${this.parentId}`);this.setSize();const h=u.append("div").datum({id:this.id}).attr("class",`board-box ${this.className}`).attr("id",this.id).style("width",this.width-2*this.margin+"px").style("height",this.height-2*this.margin+"px").style("left",`${this.x+this.margin}px`).style("top",`${this.y+this.margin}px`).style("position","absolute").style("overflow","hidden");this.fixed||h.call(Ot().subject((t=>({x:this.x,y:this.y}))).on("start",l).on("drag",t).on("end",c)),this.fixed||h.append("div").attr("class","board-box-left-drag").style("left","-5px").style("top","10px").style("width","15px").style("height","calc(100% - 20px)").style("position","absolute").call(Ot().subject((t=>({x:this.x,y:0}))).container((()=>mt(`#${this.id}`).node().parentNode)).on("start",l).on("drag",e).on("end",c)),this.fixed||h.append("div").attr("class","board-box-right-drag").style("right","-5px").style("top","10px").style("width","15px").style("height","calc(100% - 20px)").style("position","absolute").call(Ot().subject((t=>({x:this.width,y:0}))).on("start",l).on("drag",n).on("end",c)),this.fixed||h.append("div").attr("class","board-box-bottom-drag").style("left","10px").style("bottom","-5px").style("width","calc(100% - 20px)").style("height","15px").style("position","absolute").call(Ot().subject((t=>({x:0,y:this.height}))).on("start",l).on("drag",i).on("end",c)),this.fixed||h.append("div").attr("class","board-box-bottom-left-drag").style("left","-5px").style("bottom","-5px").style("width","15px").style("height","15px").style("position","absolute").call(Ot().subject((t=>({x:this.x,y:this.height}))).container((()=>mt(`#${this.id}`).node().parentNode)).on("start",l).on("drag",r).on("end",c)),this.fixed||h.append("div").attr("class","board-box-bottom-right-drag").style("right","-5px").style("bottom","-5px").style("width","15px").style("height","15px").style("position","absolute").call(Ot().subject((t=>({x:this.width,y:this.height}))).on("start",l).on("drag",a).on("end",c)),this.fixed||h.append("div").attr("class","board-box-top-left-drag").style("left","-5px").style("top","-5px").style("width","15px").style("height","15px").style("position","absolute").call(Ot().subject((t=>({x:this.x,y:this.y}))).container((()=>mt(`#${this.id}`).node().parentNode)).on("start",l).on("drag",o).on("end",c)),this.fixed||h.append("div").attr("class","board-box-top-right-drag").style("right","-5px").style("top","-5px").style("width","15px").style("height","15px").style("position","absolute").call(Ot().subject((t=>({x:this.width,y:this.y}))).container((()=>mt(`#${this.id}`).node().parentNode)).on("start",l).on("drag",s).on("end",c)),void 0!==this.component&&(this.makeComponentDiv(),this.component.updateType="normal",this.component.make()),this.update("normal")}update(t="normal"){this.setSize(),this.renderDivPosition(),this.autoLayout&&this.setAutoLayout(),void 0!==this.component&&(this.updateComponentDiv(),this.component.updateType=t,this.component.update()),this.setUntransformed()}updateDescendants(t="normal"){this.getAllBoxes.forEach((e=>{e.update(t)}))}};const si=function(t,e){t.make()},li=function(t,e){t.update("normal")};let ci=class{constructor(t){t||(t={}),this.targetId=t.targetId||"target",this.sharedState={},this.sharedStateByAncestorId={},this.ancestorIds=[],this.sharedState.offset={x:0,y:0},this.sharedState.transform={x:0,y:0,k:1},this.sharedState.preventZoom=!1,this.className=t.className||"",this.boxes=t.boxes||[],this.maxBox=0,this.width=t.width||200,this.height=t.height||300,this.heightPerCent=t.heightPerCent,this.widthPerCent=t.widthPerCent,this.fixed=t.fixed||!1,this.sharedState.gridXMax=t.gridXMax||12;const e=new ei({flag:!1,state:{boxesToAdd:[],boxesToRemove:[]}});e.subscribe(this.updateBoxes.bind(this)),this.sharedState.requestUpdateBoxes=e}get getAllBoxes(){const t=[],e=n=>{n.forEach((n=>{t.push(n),0!==n.boxes.length&&e(n.boxes)}))};return e(this.boxes),t}get getNewBoxId(){const t=`${this.id}-box-${this.maxBox}`;return this.maxBox++,t}setSize(){const t=mt(`#${this.id}`).node().parentNode;void 0!==this.widthPerCent&&(this.width=this.widthPerCent/100*t.clientWidth),void 0!==this.heightPerCent&&(this.height=this.heightPerCent/100*t.clientHeight)}addBox(t){const e=this.getNewBoxId;t.id=e,t.boxId=e,t.parentId=this.id,t.parentBoxId=this.id,t.boardId=this.id,t.untransformed={x:t.x,y:t.y,width:t.width,height:t.height},t.sharedStateByAncestorId={...this.sharedStateByAncestorId},t.sharedStateByAncestorId[this.id]=this.sharedState,t.ancestorIds=[...this.ancestorIds],t.ancestorIds.push(this.id);const n=t.component;return void 0!==n&&(n.sharedState=t.sharedState,n.sharedStateByAncestorId=t.sharedStateByAncestorId,n.ancestorIds=t.ancestorIds,n.id=t.componentId,n.boxId=t.id,n.boardId=this.id),this.boxes.push(t),e}make(){const t=this.zoomed.bind(this);mt(`#${this.targetId}`).attr("id",this.id),this.setSize(),mt(`#${this.id}`).attr("class",`board ${this.className}`).style("width",`${this.width}px`).style("height",`${this.height}px`).style("position","relative").style("overflow","hidden"),this.fixed||mt("#${this.id}").call(function(){var t,e,n,i=On,r=Tn,a=jn,o=Ln,s=Dn,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,h=Be,f=vt("start","zoom","end"),d=0,p=10;function m(t){t.property("__zoom",zn).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",N).filter(s).on("touchstart.zoom",A).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new Cn(e,t.x,t.y)}function y(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new Cn(t.k,i,r)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,i){t.on("start.zoom",(function(){b(this,arguments).event(i).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).event(i).end()})).tween("zoom",(function(){var t=this,a=arguments,o=b(t,a).event(i),s=r.apply(t,a),l=null==n?v(s):"function"==typeof n?n.apply(t,a):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=t.__zoom,f="function"==typeof e?e.apply(t,a):e,d=h(u.invert(l).concat(c/u.k),f.invert(l).concat(c/f.k));return function(t){if(1===t)t=f;else{var e=d(t),n=c/e[2];t=new Cn(n,l[0]-e[0]*n,l[1]-e[1]*n)}o.zoom(null,t)}}))}function b(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=r.apply(t,e),this.taps=0}function _(t,...e){if(i.apply(this,arguments)){var n=b(this,e).event(t),r=this.__zoom,s=Math.max(l[0],Math.min(l[1],r.k*Math.pow(2,o.apply(this,arguments)))),u=gt(t);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=r.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(r.k===s)return;n.mouse=[u,r.invert(u)],nn(this),n.start()}Bn(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),150),n.zoom("mouse",a(y(g(r,s),n.mouse[0],n.mouse[1]),n.extent,c))}}function k(t,...e){if(!n&&i.apply(this,arguments)){var r=t.currentTarget,o=b(this,e,!0).event(t),s=mt(t.view).on("mousemove.zoom",(function(t){if(Bn(t),!o.moved){var e=t.clientX-u,n=t.clientY-h;o.moved=e*e+n*n>d}o.event(t).zoom("mouse",a(y(o.that.__zoom,o.mouse[0]=gt(t,r),o.mouse[1]),o.extent,c))}),!0).on("mouseup.zoom",(function(t){s.on("mousemove.zoom mouseup.zoom",null),Mt(t.view,o.moved),Bn(t),o.event(t).end()}),!0),l=gt(t,r),u=t.clientX,h=t.clientY;St(t.view),Pn(t),o.mouse=[l,this.__zoom.invert(l)],nn(this),o.start()}}function N(t,...e){if(i.apply(this,arguments)){var n=this.__zoom,o=gt(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(o),l=n.k*(t.shiftKey?.5:2),h=a(y(g(n,l),o,s),r.apply(this,e),c);Bn(t),u>0?mt(this).transition().duration(u).call(x,h,o,t):mt(this).call(m.transform,h,o,t)}}function A(n,...r){if(i.apply(this,arguments)){var a,o,s,l,c=n.touches,u=c.length,h=b(this,r,n.changedTouches.length===u).event(n);for(Pn(n),o=0;o<u;++o)l=[l=gt(s=c[o],this),this.__zoom.invert(l),s.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,a=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),a&&(h.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),500)),nn(this),h.start())}}function S(t,...e){if(this.__zooming){var n,i,r,o,s=b(this,e).event(t),l=t.changedTouches,u=l.length;for(Bn(t),n=0;n<u;++n)r=gt(i=l[n],this),s.touch0&&s.touch0[2]===i.identifier?s.touch0[0]=r:s.touch1&&s.touch1[2]===i.identifier&&(s.touch1[0]=r);if(i=s.that.__zoom,s.touch1){var h=s.touch0[0],f=s.touch0[1],d=s.touch1[0],p=s.touch1[1],m=(m=d[0]-h[0])*m+(m=d[1]-h[1])*m,v=(v=p[0]-f[0])*v+(v=p[1]-f[1])*v;i=g(i,Math.sqrt(m/v)),r=[(h[0]+d[0])/2,(h[1]+d[1])/2],o=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!s.touch0)return;r=s.touch0[0],o=s.touch0[1]}s.zoom("touch",a(y(i,r,o),s.extent,c))}}function M(t,...i){if(this.__zooming){var r,a,o=b(this,i).event(t),s=t.changedTouches,l=s.length;for(Pn(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),r=0;r<l;++r)a=s[r],o.touch0&&o.touch0[2]===a.identifier?delete o.touch0:o.touch1&&o.touch1[2]===a.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(a=gt(a,this),Math.hypot(e[0]-a[0],e[1]-a[1])<p)){var c=mt(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return m.transform=function(t,e,n,i){var r=t.selection?t.selection():t;r.property("__zoom",zn),t!==r?x(t,e,n,i):r.interrupt().each((function(){b(this,arguments).event(i).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},m.scaleBy=function(t,e,n,i){m.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,i)},m.scaleTo=function(t,e,n,i){m.transform(t,(function(){var t=r.apply(this,arguments),i=this.__zoom,o=null==n?v(t):"function"==typeof n?n.apply(this,arguments):n,s=i.invert(o),l="function"==typeof e?e.apply(this,arguments):e;return a(y(g(i,l),o,s),t,c)}),n,i)},m.translateBy=function(t,e,n,i){m.transform(t,(function(){return a(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}),null,i)},m.translateTo=function(t,e,n,i,o){m.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,s=null==i?v(t):"function"==typeof i?i.apply(this,arguments):i;return a(En.translate(s[0],s[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),i,o)},w.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=mt(this.that).datum();f.call(t,this.that,new $n(t,{sourceEvent:this.sourceEvent,target:m,type:t,transform:this.that.__zoom,dispatch:f}),e)}},m.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:In(+t),m):o},m.filter=function(t){return arguments.length?(i="function"==typeof t?t:In(!!t),m):i},m.touchable=function(t){return arguments.length?(s="function"==typeof t?t:In(!!t),m):s},m.extent=function(t){return arguments.length?(r="function"==typeof t?t:In([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):r},m.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],m):[l[0],l[1]]},m.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(t){return arguments.length?(a=t,m):a},m.duration=function(t){return arguments.length?(u=+t,m):u},m.interpolate=function(t){return arguments.length?(h=t,m):h},m.on=function(){var t=f.on.apply(f,arguments);return t===f?m:t},m.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,m):Math.sqrt(d)},m.tapDistance=function(t){return arguments.length?(p=+t,m):p},m}().on("zoom",t)),this.update()}update(){const t=mt(`#${this.id}`).selectAll(".board-box").data(this.getAllBoxes,(t=>t.id));t.enter().each(si),t.exit().remove(),t.each(li)}zoomed(t,e){if(this.sharedState.preventZoom)return;const n=t.transform;this.sharedState.transform={x:n.x,y:n.y,k:n.k},this.boxes.forEach((t=>{const e=t.untransformed;t.x=n.k*e.x+n.x,t.y=n.k*e.y+n.y,t.width=e.width*n.k,t.height=e.height*n.k,t.allowChildrenResizeOnBoardZoom&&t.boxes.forEach((t=>{const e=t.untransformed;t.x=n.k*e.x+n.x,t.y=n.k*e.y+n.y,t.width=e.width*n.k,t.height=e.height*n.k}))}));mt(`#${this.id}`).selectAll(".board-box").data(this.getAllBoxes,(t=>t.id)).each(li)}updateBoxes(t){const e=t.boxesToAdd;console.log(t),e.forEach((t=>{this.addBox(t)})),e.forEach((t=>{t.make()})),this.update()}},ui=class{constructor(){this.boards=[],this.maxBoard=0,this.sharedState={}}get getNewBoardId(){let t=`board-${this.maxBoard}`;return this.maxBoard++,t}addBoard(t){const e=this.getNewBoardId;return t.id=e,t.sharedStateByAncestorId.context=this.sharedState,t.ancestorIds.push("context"),this.boards.push(t),e}getBoardById(t){return this.boards.find((e=>e.id==t))}};class hi{constructor(t){}get width(){return mt(`#${this.id}`).node().clientWidth}get height(){return mt(`#${this.id}`).node().clientHeight}get left(){return mt(`#${this.id}`).node().getBoundingClientRect().left}get top(){return mt(`#${this.id}`).node().getBoundingClientRect().top}}class fi extends ui{constructor(){super(),this.models=[],this.maxModel=0,this.sharedState.models=this.models}getModelId(){const t=`model-${this.maxModel}`;return this.maxModel++,t}addModel(t){t.id=this.getModelId(),this.models.push(t)}}class di extends ci{constructor(t){super(t=t||{}),this.sharedState.modelName=t.modelName||"modelName",this.sharedState.selectedNode=new ei({state:{name:null}}),this.sharedState.selectedLog=new ei({state:{name:null,targetName:null}});const e=new ei({state:{}});e.subscribe(this.setNodeStateData.bind(this)),this.sharedState.requestSetNodeStateData=e;const n=new ei({flag:!0});n.subscribe(this.runModelAndUpdateViews.bind(this)),this.sharedState.requestRunModelAndUpdateViews=n}setNodeStateData(t){const e=t.nodeName,n=t.key,i=t.value;this.sharedStateByAncestorId.context.models.find((t=>t.name==this.sharedState.modelName)).nodes.find((t=>t.name==e)).state[n]=i}runModelAndUpdateViews(){const t=this.sharedStateByAncestorId.context.models.find((t=>t.name==this.sharedState.modelName));t.clearLogs(),t.run(),this.boxes[0];const e=this.boxes[1];e.component.data={logs:t.logs.map((t=>t.displayData))},e.component.update()}}class pi extends oi{constructor(t){(t=t||{}).boxesSharedStateKeys=["boxId","name"],super(t),this.name=t.name||null}}var mi="http://www.w3.org/1999/xhtml",gi={svg:"http://www.w3.org/2000/svg",xhtml:mi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yi(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),gi.hasOwnProperty(e)?{space:gi[e],local:t}:t}function vi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===mi&&e.documentElement.namespaceURI===mi?e.createElement(t):e.createElementNS(n,t)}}function xi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function bi(t){var e=yi(t);return(e.local?xi:vi)(e)}function wi(){}function _i(t){return null==t?wi:function(){return this.querySelector(t)}}function ki(){return[]}function Ni(t){return function(){return function(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}function Ai(t){return function(e){return e.matches(t)}}var Si=Array.prototype.find;function Mi(){return this.firstElementChild}var Ii=Array.prototype.filter;function $i(){return Array.from(this.children)}function Ci(t){return new Array(t.length)}function Ei(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Pi(t,e,n,i,r,a){for(var o,s=0,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],i[s]=o):n[s]=new Ei(t,a[s]);for(;s<l;++s)(o=e[s])&&(r[s]=o)}function Bi(t,e,n,i,r,a,o){var s,l,c,u=new Map,h=e.length,f=a.length,d=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(d[s]=c=o.call(l,l.__data__,s,e)+"",u.has(c)?r[s]=l:u.set(c,l));for(s=0;s<f;++s)c=o.call(t,a[s],s,a)+"",(l=u.get(c))?(i[s]=l,l.__data__=a[s],u.delete(c)):n[s]=new Ei(t,a[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(d[s])===l&&(r[s]=l)}function Oi(t){return t.__data__}function Ti(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function zi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Li(t){return function(){this.removeAttribute(t)}}function Di(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ji(t,e){return function(){this.setAttribute(t,e)}}function Ri(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function qi(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Hi(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Fi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Yi(t){return function(){this.style.removeProperty(t)}}function Xi(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Wi(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Vi(t){return function(){delete this[t]}}function Ui(t,e){return function(){this[t]=e}}function Gi(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ki(t){return t.trim().split(/^|\s+/)}function Qi(t){return t.classList||new Zi(t)}function Zi(t){this._node=t,this._names=Ki(t.getAttribute("class")||"")}function Ji(t,e){for(var n=Qi(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function tr(t,e){for(var n=Qi(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function er(t){return function(){Ji(this,t)}}function nr(t){return function(){tr(this,t)}}function ir(t,e){return function(){(e.apply(this,arguments)?Ji:tr)(this,t)}}function rr(){this.textContent=""}function ar(t){return function(){this.textContent=t}}function or(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function sr(){this.innerHTML=""}function lr(t){return function(){this.innerHTML=t}}function cr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ur(){this.nextSibling&&this.parentNode.appendChild(this)}function hr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fr(){return null}function dr(){var t=this.parentNode;t&&t.removeChild(this)}function pr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function mr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function gr(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,a=e.length;i<a;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function yr(t,e,n){return function(){var i,r=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),void(i.value=e);this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function vr(t,e,n){var i=Fi(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function xr(t,e){return function(){return vr(this,t,e)}}function br(t,e){return function(){return vr(this,t,e.apply(this,arguments))}}Ei.prototype={constructor:Ei,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Zi.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var wr=[null];function _r(t,e){this._groups=t,this._parents=e}function kr(t){return"string"==typeof t?new _r([[document.querySelector(t)]],[document.documentElement]):new _r([[t]],wr)}_r.prototype={constructor:_r,select:function(t){"function"!=typeof t&&(t=_i(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o,s=e[r],l=s.length,c=i[r]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=t.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new _r(i,this._parents)},selectAll:function(t){t="function"==typeof t?Ni(t):function(t){return null==t?ki:function(){return this.querySelectorAll(t)}}(t);for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(i.push(t.call(o,o.__data__,c,s)),r.push(o));return new _r(i,r)},selectChild:function(t){return this.select(null==t?Mi:function(t){return function(){return Si.call(this.children,t)}}("function"==typeof t?t:Ai(t)))},selectChildren:function(t){return this.selectAll(null==t?$i:function(t){return function(){return Ii.call(this.children,t)}}("function"==typeof t?t:Ai(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o=e[r],s=o.length,l=i[r]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new _r(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Oi);var n=e?Bi:Pi,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=r.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=i[c],h=r[c],f=h.length,d=Ti(t.call(u,u&&u.__data__,c,i)),p=d.length,m=s[c]=new Array(p),g=o[c]=new Array(p);n(u,h,m,g,l[c]=new Array(f),d,e);for(var y,v,x=0,b=0;x<p;++x)if(y=m[x]){for(x>=b&&(b=x+1);!(v=g[b])&&++b<p;);y._next=v||null}}return(o=new _r(o,i))._enter=s,o._exit=l,o},enter:function(){return new _r(this._enter||this._groups.map(Ci),this._parents)},exit:function(){return new _r(this._exit||this._groups.map(Ci),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,a=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?a.remove():n(a),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,a=i.length,o=Math.min(r,a),s=new Array(r),l=0;l<o;++l)for(var c,u=n[l],h=i[l],f=u.length,d=s[l]=new Array(f),p=0;p<f;++p)(c=u[p]||h[p])&&(d[p]=c);for(;l<r;++l)s[l]=n[l];return new _r(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,o=r[a];--a>=0;)(i=r[a])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=zi);for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o,s=n[a],l=s.length,c=r[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(e)}return new _r(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],o=0,s=a.length;o<s;++o)(r=a[o])&&t.call(r,r.__data__,o,a);return this},attr:function(t,e){var n=yi(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Di:Li:"function"==typeof e?n.local?Hi:qi:n.local?Ri:ji)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Yi:"function"==typeof e?Wi:Xi)(t,e,null==n?"":n)):function(t,e){return t.style.getPropertyValue(e)||Fi(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Vi:"function"==typeof e?Gi:Ui)(t,e)):this.node()[t]},classed:function(t,e){var n=Ki(t+"");if(arguments.length<2){for(var i=Qi(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?ir:e?er:nr)(n,e))},text:function(t){return arguments.length?this.each(null==t?rr:("function"==typeof t?or:ar)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?sr:("function"==typeof t?cr:lr)(t)):this.node().innerHTML},raise:function(){return this.each(ur)},lower:function(){return this.each(hr)},append:function(t){var e="function"==typeof t?t:bi(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:bi(t),i=null==e?fr:"function"==typeof e?e:_i(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(dr)},clone:function(t){return this.select(t?mr:pr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?yr:gr,i=0;i<o;++i)this.each(s(a[i],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<o;++i)if((r=a[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?br:xr)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],a=0,o=r.length;a<o;++a)(i=r[a])&&(yield i)}};var Nr=function(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Ar(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Sr(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Mr(){}var Ir=.7,$r=1/Ir,Cr="\\s*([+-]?\\d+)\\s*",Er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Br=/^#([0-9a-f]{3,8})$/,Or=new RegExp(`^rgb\\(${Cr},${Cr},${Cr}\\)$`),Tr=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),zr=new RegExp(`^rgba\\(${Cr},${Cr},${Cr},${Er}\\)$`),Lr=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${Er}\\)$`),Dr=new RegExp(`^hsl\\(${Er},${Pr},${Pr}\\)$`),jr=new RegExp(`^hsla\\(${Er},${Pr},${Pr},${Er}\\)$`),Rr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qr(){return this.rgb().formatHex()}function Hr(){return this.rgb().formatRgb()}function Fr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Br.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Yr(e):3===n?new Vr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Xr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Xr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Or.exec(t))?new Vr(e[1],e[2],e[3],1):(e=Tr.exec(t))?new Vr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=zr.exec(t))?Xr(e[1],e[2],e[3],e[4]):(e=Lr.exec(t))?Xr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Dr.exec(t))?Jr(e[1],e[2]/100,e[3]/100,1):(e=jr.exec(t))?Jr(e[1],e[2]/100,e[3]/100,e[4]):Rr.hasOwnProperty(t)?Yr(Rr[t]):"transparent"===t?new Vr(NaN,NaN,NaN,0):null}function Yr(t){return new Vr(t>>16&255,t>>8&255,255&t,1)}function Xr(t,e,n,i){return i<=0&&(t=e=n=NaN),new Vr(t,e,n,i)}function Wr(t,e,n,i){return 1===arguments.length?function(t){return t instanceof Mr||(t=Fr(t)),t?new Vr((t=t.rgb()).r,t.g,t.b,t.opacity):new Vr}(t):new Vr(t,e,n,null==i?1:i)}function Vr(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Ur(){return`#${Zr(this.r)}${Zr(this.g)}${Zr(this.b)}`}function Gr(){const t=Kr(this.opacity);return`${1===t?"rgb(":"rgba("}${Qr(this.r)}, ${Qr(this.g)}, ${Qr(this.b)}${1===t?")":`, ${t})`}`}function Kr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zr(t){return((t=Qr(t))<16?"0":"")+t.toString(16)}function Jr(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ea(t,e,n,i)}function ta(t){if(t instanceof ea)return new ea(t.h,t.s,t.l,t.opacity);if(t instanceof Mr||(t=Fr(t)),!t)return new ea;if(t instanceof ea)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),o=NaN,s=a-r,l=(a+r)/2;return s?(o=e===a?(n-i)/s+6*(n<i):n===a?(i-e)/s+2:(e-n)/s+4,s/=l<.5?a+r:2-a-r,o*=60):s=l>0&&l<1?0:o,new ea(o,s,l,t.opacity)}function ea(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function na(t){return(t=(t||0)%360)<0?t+360:t}function ia(t){return Math.max(0,Math.min(1,t||0))}function ra(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Ar(Mr,Fr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qr,formatHex:qr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ta(this).formatHsl()},formatRgb:Hr,toString:Hr}),Ar(Vr,Wr,Sr(Mr,{brighter(t){return t=null==t?$r:Math.pow($r,t),new Vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Ir:Math.pow(Ir,t),new Vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vr(Qr(this.r),Qr(this.g),Qr(this.b),Kr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ur,formatHex:Ur,formatHex8:function(){return`#${Zr(this.r)}${Zr(this.g)}${Zr(this.b)}${Zr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Gr,toString:Gr})),Ar(ea,(function(t,e,n,i){return 1===arguments.length?ta(t):new ea(t,e,n,null==i?1:i)}),Sr(Mr,{brighter(t){return t=null==t?$r:Math.pow($r,t),new ea(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Ir:Math.pow(Ir,t),new ea(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Vr(ra(t>=240?t-240:t+120,r,i),ra(t,r,i),ra(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new ea(na(this.h),ia(this.s),ia(this.l),Kr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kr(this.opacity);return`${1===t?"hsl(":"hsla("}${na(this.h)}, ${100*ia(this.s)}%, ${100*ia(this.l)}%${1===t?")":`, ${t})`}`}}));var aa=t=>()=>t;function oa(t){return 1==(t=+t)?sa:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):aa(isNaN(e)?n:e)}}function sa(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):aa(isNaN(t)?e:t)}var la=function t(e){var n=oa(e);function i(t,e){var i=n((t=Wr(t)).r,(e=Wr(e)).r),r=n(t.g,e.g),a=n(t.b,e.b),o=sa(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=a(e),t.opacity=o(e),t+""}}return i.gamma=t,i}(1);function ca(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(a){for(n=0;n<i;++n)r[n]=t[n]*(1-a)+e[n]*a;return r}}function ua(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),o=new Array(i);for(n=0;n<r;++n)a[n]=ya(t[n],e[n]);for(;n<i;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=a[n](t);return o}}function ha(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function fa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function da(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=ya(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var pa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ma=new RegExp(pa.source,"g");function ga(t,e){var n,i,r,a=pa.lastIndex=ma.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=pa.exec(t))&&(i=ma.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:fa(n,i)})),a=ma.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function ya(t,e){var n,i=typeof e;return null==e||"boolean"===i?aa(e):("number"===i?fa:"string"===i?(n=Fr(e))?(e=n,la):ga:e instanceof Fr?la:e instanceof Date?ha:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?ca:Array.isArray(e)?ua:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?da:fa)(t,e)}function va(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function xa(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ba(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wa(t){let e,n,i;function r(t,i,r=0,a=t.length){if(r<a){if(0!==e(i,i))return a;do{const e=r+a>>>1;n(t[e],i)<0?r=e+1:a=e}while(r<a)}return r}return 2!==t.length?(e=xa,n=(e,n)=>xa(t(e),n),i=(e,n)=>t(e)-n):(e=t===xa||t===ba?t:_a,n=t,i=t),{left:r,center:function(t,e,n=0,a=t.length){const o=r(t,e,n,a-1);return o>n&&i(t[o-1],e)>-i(t[o],e)?o-1:o},right:function(t,i,r=0,a=t.length){if(r<a){if(0!==e(i,i))return a;do{const e=r+a>>>1;n(t[e],i)<=0?r=e+1:a=e}while(r<a)}return r}}}function _a(){return 0}const ka=wa(xa).right;function Na(t,e){let n,i;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=i=e):(n>e&&(n=e),i<e&&(i=e)));else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&(void 0===n?a>=a&&(n=i=a):(n>a&&(n=a),i<a&&(i=a)))}return[n,i]}wa((function(t){return null===t?NaN:+t})).center;class Aa extends Map{constructor(t,e=Ma){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(Sa(this,t))}has(t){return super.has(Sa(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const i=e(n);t.has(i)&&(n=t.get(i),t.delete(i));return n}(this,t))}}function Sa({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function Ma(t){return null!==t&&"object"==typeof t?t.valueOf():t}const Ia=Math.sqrt(50),$a=Math.sqrt(10),Ca=Math.sqrt(2);function Ea(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),o=a>=Ia?10:a>=$a?5:a>=Ca?2:1;let s,l,c;return r<0?(c=Math.pow(10,-r)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,r)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Ea(t,e,2*n):[s,l,c]}function Pa(t,e,n){return Ea(t=+t,e=+e,n=+n)[2]}function Ba(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const Oa=Symbol("implicit");function Ta(){var t=new Aa,e=[],n=[],i=Oa;function r(r){let a=t.get(r);if(void 0===a){if(i!==Oa)return i;t.set(r,a=e.push(r)-1)}return n[a%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Aa;for(const i of n)t.has(i)||t.set(i,e.push(i)-1);return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Ta(e,n).unknown(i)},Ba.apply(r,arguments),r}function za(){var t,e,n=Ta().unknown(void 0),i=n.domain,r=n.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function h(){var n=i().length,h=o<a,f=h?o:a,d=h?a:o;t=(d-f)/Math.max(1,n-l+2*c),s&&(t=Math.floor(t)),f+=(d-f-t*(n-l))*u,e=t*(1-l),s&&(f=Math.round(f),e=Math.round(e));var p=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(r);++i<r;)a[i]=t+i*n;return a}(n).map((function(e){return f+t*e}));return r(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),h()):i()},n.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,h()):[a,o]},n.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,s=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,h()):s},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return za(i(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},Ba.apply(h(),arguments)}function La(t){return+t}var Da=[0,1];function ja(t){return t}function Ra(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function qa(t,e,n){var i=t[0],r=t[1],a=e[0],o=e[1];return r<i?(i=Ra(r,i),a=n(o,a)):(i=Ra(i,r),a=n(a,o)),function(t){return a(i(t))}}function Ha(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=Ra(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=ka(t,e,1,i)-1;return a[n](r[n](e))}}function Fa(){var t,e,n,i,r,a,o=Da,s=Da,l=ya,c=ja;function u(){var t=Math.min(o.length,s.length);return c!==ja&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),i=t>2?Ha:qa,r=a=null,h}function h(e){return null==e||isNaN(e=+e)?n:(r||(r=i(o.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((a||(a=i(s,o.map(t),fa)))(n)))},h.domain=function(t){return arguments.length?(o=Array.from(t,La),u()):o.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=va,u()},h.clamp=function(t){return arguments.length?(c=!!t||ja,u()):c!==ja},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,u()}}function Ya(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Xa(t){return(t=Ya(Math.abs(t)))?t[1]:NaN}var Wa,Va=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ua(t){if(!(e=Va.exec(t)))throw new Error("invalid format: "+t);var e;return new Ga({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ga(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ka(t,e){var n=Ya(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Ua.prototype=Ga.prototype,Ga.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Qa={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ka(100*t,e),r:Ka,s:function(t,e){var n=Ya(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(Wa=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Ya(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Za(t){return t}var Ja,to,eo,no=Array.prototype.map,io=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ro(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?Za:(e=no.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,a=[],o=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),a.push(t.substring(r-=s,r+s)),!((l+=s+1)>i));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Za:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(no.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Ua(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,m=t.comma,g=t.precision,y=t.trim,v=t.type;"n"===v?(m=!0,v="g"):Qa[v]||(void 0===g&&(g=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var x="$"===f?r:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===f?a:/[%p]/.test(v)?l:"",w=Qa[v],_=/[defgprs%]/.test(v);function k(t){var r,a,l,f=x,k=b;if("c"===v)k=w(t)+k,t="";else{var N=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),g),y&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),N&&0==+t&&"+"!==h&&(N=!1),f=(N?"("===h?h:c:"-"===h||"("===h?"":h)+f,k=("s"===v?io[8+Wa/3]:"")+k+(N&&"("===h?")":""),_)for(r=-1,a=t.length;++r<a;)if(48>(l=t.charCodeAt(r))||l>57){k=(46===l?o+t.slice(r+1):t.slice(r))+k,t=t.slice(0,r);break}}m&&!d&&(t=i(t,1/0));var A=f.length+t.length+k.length,S=A<p?new Array(p-A+1).join(e):"";switch(m&&d&&(t=i(S+t,S.length?p-k.length:1/0),S=""),n){case"<":t=f+t+k+S;break;case"=":t=f+S+t+k;break;case"^":t=S.slice(0,A=S.length>>1)+f+t+k+S.slice(A);break;default:t=S+f+t+k}return s(t)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=Ua(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Xa(e)/3))),r=Math.pow(10,-i),a=io[8+i/3];return function(t){return n(r*t)+a}}}}function ao(t,e,n,i){var r,a=function(t,e,n){n=+n;const i=(e=+e)<(t=+t),r=i?Pa(e,t,n):Pa(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}(t,e,n);switch((i=Ua(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xa(e)/3)))-Xa(Math.abs(t)))}(a,o))||(i.precision=r),eo(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xa(e)-Xa(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Xa(Math.abs(t)))}(a))||(i.precision=r-2*("%"===i.type))}return to(i)}function oo(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const i=e<t,[r,a,o]=i?Ea(e,t,n):Ea(t,e,n);if(!(a>=r))return[];const s=a-r+1,l=new Array(s);if(i)if(o<0)for(let t=0;t<s;++t)l[t]=(a-t)/-o;else for(let t=0;t<s;++t)l[t]=(a-t)*o;else if(o<0)for(let t=0;t<s;++t)l[t]=(r+t)/-o;else for(let t=0;t<s;++t)l[t]=(r+t)*o;return l}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return ao(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,a=e(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(r=l,l=c,c=r,r=o,o=s,s=r);u-- >0;){if((r=Pa(l,c,n))===i)return a[o]=l,a[s]=c,e(a);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function so(){var t=Fa()(ja,ja);return t.copy=function(){return e=t,so().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},Ba.apply(t,arguments),oo(t)}function lo(t){return function(){return t}}Ja=ro({thousands:",",grouping:[3],currency:["$",""]}),to=Ja.format,eo=Ja.formatPrefix;const co=Math.PI,uo=2*co,ho=1e-6,fo=uo-ho;function po(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class mo{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?po:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return po;const n=10**e;return function(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,i){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,e,n,i,r,a){this._append`C${+t},${+e},${+n},${+i},${this._x1=+r},${this._y1=+a}`}arcTo(t,e,n,i,r){if(t=+t,e=+e,n=+n,i=+i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let a=this._x1,o=this._y1,s=n-t,l=i-e,c=a-t,u=o-e,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>ho)if(Math.abs(u*s-l*c)>ho&&r){let f=n-a,d=i-o,p=s*s+l*l,m=f*f+d*d,g=Math.sqrt(p),y=Math.sqrt(h),v=r*Math.tan((co-Math.acos((p+h-m)/(2*g*y)))/2),x=v/y,b=v/g;Math.abs(x-1)>ho&&this._append`L${t+x*c},${e+x*u}`,this._append`A${r},${r},0,0,${+(u*f>c*d)},${this._x1=t+b*s},${this._y1=e+b*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,i,r,a){if(t=+t,e=+e,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),s=n*Math.sin(i),l=t+o,c=e+s,u=1^a,h=a?i-r:r-i;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>ho||Math.abs(this._y1-c)>ho)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%uo+uo),h>fo?this._append`A${n},${n},0,1,${u},${t-o},${e-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>ho&&this._append`A${n},${n},0,${+(h>=co)},${u},${this._x1=t+n*Math.cos(r)},${this._y1=e+n*Math.sin(r)}`)}rect(t,e,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function go(t){this._context=t}function yo(t){return new go(t)}function vo(t){return t[0]}function xo(t){return t[1]}function bo(t,e){var n=lo(!0),i=null,r=yo,a=null,o=function(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new mo(e)}(s);function s(s){var l,c,u,h=(s=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(s)).length,f=!1;for(null==i&&(a=r(u=o())),l=0;l<=h;++l)!(l<h&&n(c=s[l],l,s))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(c,l,s),+e(c,l,s));if(u)return a=null,u+""||null}return t="function"==typeof t?t:void 0===t?vo:lo(t),e="function"==typeof e?e:void 0===e?xo:lo(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:lo(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:lo(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:lo(!!t),s):n},s.curve=function(t){return arguments.length?(r=t,null!=i&&(a=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=a=null:a=r(i=t),s):i},s}function wo(t){return t}go.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var _o=1e-6;function ko(t){return"translate("+t+",0)"}function No(t){return"translate(0,"+t+")"}function Ao(t){return e=>+t(e)}function So(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Mo(){return!this.__axis}function Io(t,e){var n=[],i=null,r=null,a=6,o=6,s=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===t||4===t?-1:1,u=4===t||2===t?"x":"y",h=1===t||3===t?ko:No;function f(f){var d=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,p=null==r?e.tickFormat?e.tickFormat.apply(e,n):wo:r,m=Math.max(a,0)+s,g=e.range(),y=+g[0]+l,v=+g[g.length-1]+l,x=(e.bandwidth?So:Ao)(e.copy(),l),b=f.selection?f.selection():f,w=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(d,e).order(),k=_.exit(),N=_.enter().append("g").attr("class","tick"),A=_.select("line"),S=_.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(N),A=A.merge(N.append("line").attr("stroke","currentColor").attr(u+"2",c*a)),S=S.merge(N.append("text").attr("fill","currentColor").attr(u,c*m).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==b&&(w=w.transition(f),_=_.transition(f),A=A.transition(f),S=S.transition(f),k=k.transition(f).attr("opacity",_o).attr("transform",(function(t){return isFinite(t=x(t))?h(t+l):this.getAttribute("transform")})),N.attr("opacity",_o).attr("transform",(function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:x(t))+l)}))),k.remove(),w.attr("d",4===t||2===t?o?"M"+c*o+","+y+"H"+l+"V"+v+"H"+c*o:"M"+l+","+y+"V"+v:o?"M"+y+","+c*o+"V"+l+"H"+v+"V"+c*o:"M"+y+","+l+"H"+v),_.attr("opacity",1).attr("transform",(function(t){return h(x(t)+l)})),A.attr(u+"2",c*a),S.attr(u,c*m).text(p),b.filter(Mo).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=x}))}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(i=null==t?null:Array.from(t),f):i&&i.slice()},f.tickFormat=function(t){return arguments.length?(r=t,f):r},f.tickSize=function(t){return arguments.length?(a=o=+t,f):a},f.tickSizeInner=function(t){return arguments.length?(a=+t,f):a},f.tickSizeOuter=function(t){return arguments.length?(o=+t,f):o},f.tickPadding=function(t){return arguments.length?(s=+t,f):s},f.offset=function(t){return arguments.length?(l=+t,f):l},f}function $o(t){return Io(3,t)}function Co(t){return Io(4,t)}const Eo=()=>{};let Po={},Bo={},Oo=null,To={mark:Eo,measure:Eo};try{"undefined"!=typeof window&&(Po=window),"undefined"!=typeof document&&(Bo=document),"undefined"!=typeof MutationObserver&&(Oo=MutationObserver),"undefined"!=typeof performance&&(To=performance)}catch(t){}const{userAgent:zo=""}=Po.navigator||{},Lo=Po,Do=Bo,jo=Oo,Ro=To;Lo.document;const qo=!!Do.documentElement&&!!Do.head&&"function"==typeof Do.addEventListener&&"function"==typeof Do.createElement,Ho=~zo.indexOf("MSIE")||~zo.indexOf("Trident/");var Fo="classic",Yo="duotone",Xo="sharp",Wo="sharp-duotone",Vo=[Fo,Yo,Xo,Wo],Uo={fak:"kit","fa-kit":"kit"},Go={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},Ko={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},Qo=[1,2,3,4,5,6,7,8,9,10],Zo=Qo.concat([11,12,13,14,15,16,17,18,19,20]),Jo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ts=[...Object.keys({classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Jo.GROUP,Jo.SWAP_OPACITY,Jo.PRIMARY,Jo.SECONDARY].concat(Qo.map((t=>"".concat(t,"x")))).concat(Zo.map((t=>"w-".concat(t)))),es={kit:"fak"},ns={"kit-duotone":"fakd"};const is="___FONT_AWESOME___",rs=16,as="svg-inline--fa",os="data-fa-i2svg",ss="data-fa-pseudo-element",ls="data-prefix",cs="data-icon",us="fontawesome-i2svg",hs=["HTML","HEAD","STYLE","SCRIPT"],fs=(()=>{try{return!1}catch(t){return!1}})(),ds=[Fo,Xo,Wo];function ps(t){return new Proxy(t,{get:(t,e)=>e in t?t[e]:t[Fo]})}const ms={...Ko};ms[Fo]={...Ko[Fo],...Uo,...Go};const gs=ps(ms),ys={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}};ys[Fo]={...ys[Fo],...es,...ns};const vs=ps(ys),xs={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}};xs[Fo]={...xs[Fo],fak:"fa-kit"};const bs=ps(xs),ws={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}};ws[Fo]={...ws[Fo],"fa-kit":"fak"};const _s=ps(ws),ks=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,Ns="fa-layers-text",As=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i;ps({classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}});const Ss=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ms=Jo,Is=new Set;Object.keys(vs[Fo]).map(Is.add.bind(Is)),Object.keys(vs[Xo]).map(Is.add.bind(Is)),Object.keys(vs[Wo]).map(Is.add.bind(Is));const $s=["kit",...ts],Cs=Lo.FontAwesomeConfig||{};if(Do&&"function"==typeof Do.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((t=>{let[e,n]=t;const i=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=Do.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e));null!=i&&(Cs[n]=i)}))}const Es={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:as,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Cs.familyPrefix&&(Cs.cssPrefix=Cs.familyPrefix);const Ps={...Es,...Cs};Ps.autoReplaceSvg||(Ps.observeMutations=!1);const Bs={};Object.keys(Es).forEach((t=>{Object.defineProperty(Bs,t,{enumerable:!0,set:function(e){Ps[t]=e,Os.forEach((t=>t(Bs)))},get:function(){return Ps[t]}})})),Object.defineProperty(Bs,"familyPrefix",{enumerable:!0,set:function(t){Ps.cssPrefix=t,Os.forEach((t=>t(Bs)))},get:function(){return Ps.cssPrefix}}),Lo.FontAwesomeConfig=Bs;const Os=[];const Ts=rs,zs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ls(){let t=12,e="";for(;t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function Ds(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function js(t){return t.classList?Ds(t.classList):(t.getAttribute("class")||"").split(" ").filter((t=>t))}function Rs(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qs(t){return Object.keys(t||{}).reduce(((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";")),"")}function Hs(t){return t.size!==zs.size||t.x!==zs.x||t.y!==zs.y||t.rotate!==zs.rotate||t.flipX||t.flipY}function Fs(){const t="fa",e=as,n=Bs.cssPrefix,i=Bs.replacementClass;let r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==t||i!==e){const a=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),s=new RegExp("\\.".concat(e),"g");r=r.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(i))}return r}let Ys=!1;function Xs(){Bs.autoAddCss&&!Ys&&(!function(t){if(!t||!qo)return;const e=Do.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Do.head.childNodes;let i=null;for(let t=n.length-1;t>-1;t--){const e=n[t],r=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(r)>-1&&(i=e)}Do.head.insertBefore(e,i)}(Fs()),Ys=!0)}var Ws={mixout:()=>({dom:{css:Fs,insertCss:Xs}}),hooks:()=>({beforeDOMElementCreation(){Xs()},beforeI2svg(){Xs()}})};const Vs=Lo||{};Vs[is]||(Vs[is]={}),Vs[is].styles||(Vs[is].styles={}),Vs[is].hooks||(Vs[is].hooks={}),Vs[is].shims||(Vs[is].shims=[]);var Us=Vs[is];const Gs=[],Ks=function(){Do.removeEventListener("DOMContentLoaded",Ks),Qs=1,Gs.map((t=>t()))};let Qs=!1;function Zs(t){const{tag:e,attributes:n={},children:i=[]}=t;return"string"==typeof t?Rs(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(((e,n)=>e+"".concat(n,'="').concat(Rs(t[n]),'" ')),"").trim()}(n),">").concat(i.map(Zs).join(""),"</").concat(e,">")}function Js(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}qo&&(Qs=(Do.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Do.readyState),Qs||Do.addEventListener("DOMContentLoaded",Ks));var tl=function(t,e,n,i){var r,a,o,s=Object.keys(t),l=s.length,c=void 0!==i?function(t,e){return function(n,i,r,a){return t.call(e,n,i,r,a)}}(e,i):e;for(void 0===n?(r=1,o=t[s[0]]):(r=0,o=n);r<l;r++)o=c(o,t[a=s[r]],a,t);return o};function el(t){const e=function(t){const e=[];let n=0;const i=t.length;for(;n<i;){const r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){const i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&r)<<10)+(1023&i)+65536):(e.push(r),n--)}else e.push(r)}return e}(t);return 1===e.length?e[0].toString(16):null}function nl(t){return Object.keys(t).reduce(((e,n)=>{const i=t[n];return!!i.icon?e[i.iconName]=i.icon:e[n]=i,e}),{})}function il(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:i=!1}=n,r=nl(e);"function"!=typeof Us.hooks.addPack||i?Us.styles[t]={...Us.styles[t]||{},...r}:Us.hooks.addPack(t,nl(e)),"fas"===t&&il("fa",e)}const{styles:rl,shims:al}=Us,ol={[Fo]:Object.values(bs[Fo]),[Xo]:Object.values(bs[Xo]),[Wo]:Object.values(bs[Wo])};let sl=null,ll={},cl={},ul={},hl={},fl={};const dl={[Fo]:Object.keys(gs[Fo]),[Xo]:Object.keys(gs[Xo]),[Wo]:Object.keys(gs[Wo])};function pl(t,e){const n=e.split("-"),i=n[0],r=n.slice(1).join("-");return i!==t||""===r||(a=r,~$s.indexOf(a))?null:r;var a}const ml=()=>{const t=t=>tl(rl,((e,n,i)=>(e[i]=tl(n,t,{}),e)),{});ll=t(((t,e,n)=>{if(e[3]&&(t[e[3]]=n),e[2]){e[2].filter((t=>"number"==typeof t)).forEach((e=>{t[e.toString(16)]=n}))}return t})),cl=t(((t,e,n)=>{if(t[n]=n,e[2]){e[2].filter((t=>"string"==typeof t)).forEach((e=>{t[e]=n}))}return t})),fl=t(((t,e,n)=>{const i=e[2];return t[n]=n,i.forEach((e=>{t[e]=n})),t}));const e="far"in rl||Bs.autoFetchSvg,n=tl(al,((t,n)=>{const i=n[0];let r=n[1];const a=n[2];return"far"!==r||e||(r="fas"),"string"==typeof i&&(t.names[i]={prefix:r,iconName:a}),"number"==typeof i&&(t.unicodes[i.toString(16)]={prefix:r,iconName:a}),t}),{names:{},unicodes:{}});ul=n.names,hl=n.unicodes,sl=wl(Bs.styleDefault,{family:Bs.familyDefault})};var gl;function yl(t,e){return(ll[t]||{})[e]}function vl(t,e){return(fl[t]||{})[e]}function xl(t){return ul[t]||{prefix:null,iconName:null}}function bl(){return sl}gl=t=>{sl=wl(t.styleDefault,{family:Bs.familyDefault})},Os.push(gl),ml();function wl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=Fo}=e,i=gs[n][t],r=vs[n][t]||vs[n][i],a=t in Us.styles?t:null;return r||a||null}const _l={[Fo]:Object.keys(bs[Fo]),[Xo]:Object.keys(bs[Xo]),[Wo]:Object.keys(bs[Wo])};function kl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=e,i={[Fo]:"".concat(Bs.cssPrefix,"-").concat(Fo),[Xo]:"".concat(Bs.cssPrefix,"-").concat(Xo),[Wo]:"".concat(Bs.cssPrefix,"-").concat(Wo)};let r=null,a=Fo;const o=Vo.filter((t=>t!==Yo));o.forEach((e=>{(t.includes(i[e])||t.some((t=>_l[e].includes(t))))&&(a=e)}));const s=t.reduce(((t,e)=>{const s=pl(Bs.cssPrefix,e);if(rl[e]?(e=ol[a].includes(e)?_s[a][e]:e,r=e,t.prefix=e):dl[a].indexOf(e)>-1?(r=e,t.prefix=wl(e,{family:a})):s?t.iconName=s:e===Bs.replacementClass||o.some((t=>e===i[t]))||t.rest.push(e),!n&&t.prefix&&t.iconName){const e="fa"===r?xl(t.iconName):{},n=vl(t.prefix,t.iconName);e.prefix&&(r=null),t.iconName=e.iconName||n||t.iconName,t.prefix=e.prefix||t.prefix,"far"!==t.prefix||rl.far||!rl.fas||Bs.autoFetchSvg||(t.prefix="fas")}return t}),{prefix:null,iconName:null,rest:[]});return(t.includes("fa-brands")||t.includes("fab"))&&(s.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(s.prefix="fad"),s.prefix||a!==Xo||!rl.fass&&!Bs.autoFetchSvg||(s.prefix="fass",s.iconName=vl(s.prefix,s.iconName)||s.iconName),s.prefix||a!==Wo||!rl.fasds&&!Bs.autoFetchSvg||(s.prefix="fasds",s.iconName=vl(s.prefix,s.iconName)||s.iconName),"fa"!==s.prefix&&"fa"!==r||(s.prefix=bl()||"fas"),s}let Nl=[],Al={};const Sl={},Ml=Object.keys(Sl);function Il(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return(Al[t]||[]).forEach((t=>{e=t.apply(null,[e,...i])})),e}function $l(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(Al[t]||[]).forEach((t=>{t.apply(null,n)}))}function Cl(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Sl[t]?Sl[t].apply(null,e):void 0}function El(t){"fa"===t.prefix&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||bl();if(e)return e=vl(n,e)||e,Js(Pl.definitions,n,e)||Js(Us.styles,n,e)}const Pl=new class{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=e.reduce(this._pullDefinitions,{});Object.keys(i).forEach((t=>{this.definitions[t]={...this.definitions[t]||{},...i[t]},il(t,i[t]);const e=bs[Fo][t];e&&il(e,i[t]),ml()}))}reset(){this.definitions={}}_pullDefinitions(t,e){const n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((e=>{const{prefix:i,iconName:r,icon:a}=n[e],o=a[2];t[i]||(t[i]={}),o.length>0&&o.forEach((e=>{"string"==typeof e&&(t[i][e]=a)})),t[i][r]=a})),t}},Bl={i2svg:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qo?($l("beforeI2svg",t),Cl("pseudoElements2svg",t),Cl("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;var n;!1===Bs.autoReplaceSvg&&(Bs.autoReplaceSvg=!0),Bs.observeMutations=!0,n=()=>{zl({autoReplaceSvgRoot:e}),$l("watch",t)},qo&&(Qs?setTimeout(n,0):Gs.push(n))}},Ol={icon:t=>{if(null===t)return null;if("object"==typeof t&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:vl(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){const e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],n=wl(t[0]);return{prefix:n,iconName:vl(n,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(Bs.cssPrefix,"-"))>-1||t.match(ks))){const e=kl(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||bl(),iconName:vl(e.prefix,e.iconName)||e.iconName}}if("string"==typeof t){const e=bl();return{prefix:e,iconName:vl(e,t)||t}}}},Tl={noAuto:()=>{Bs.autoReplaceSvg=!1,Bs.observeMutations=!1,$l("noAuto")},config:Bs,dom:Bl,parse:Ol,library:Pl,findIconDefinition:El,toHtml:Zs},zl=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:e=Do}=t;(Object.keys(Us.styles).length>0||Bs.autoFetchSvg)&&qo&&Bs.autoReplaceSvg&&Tl.dom.i2svg({node:e})};function Ll(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((t=>Zs(t)))}}),Object.defineProperty(t,"node",{get:function(){if(!qo)return;const e=Do.createElement("div");return e.innerHTML=t.html,e.children}}),t}function Dl(t){const{icons:{main:e,mask:n},prefix:i,iconName:r,transform:a,symbol:o,title:s,maskId:l,titleId:c,extra:u,watchable:h=!1}=t,{width:f,height:d}=n.found?n:e,p="fak"===i,m=[Bs.replacementClass,r?"".concat(Bs.cssPrefix,"-").concat(r):""].filter((t=>-1===u.classes.indexOf(t))).filter((t=>""!==t||!!t)).concat(u.classes).join(" ");let g={children:[],attributes:{...u.attributes,"data-prefix":i,"data-icon":r,class:m,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(d)}};const y=p&&!~u.classes.indexOf("fa-fw")?{width:"".concat(f/d*16*.0625,"em")}:{};h&&(g.attributes[os]=""),s&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||Ls())},children:[s]}),delete g.attributes.title);const v={...g,prefix:i,iconName:r,main:e,mask:n,maskId:l,transform:a,symbol:o,styles:{...y,...u.styles}},{children:x,attributes:b}=n.found&&e.found?Cl("generateAbstractMask",v)||{children:[],attributes:{}}:Cl("generateAbstractIcon",v)||{children:[],attributes:{}};return v.children=x,v.attributes=b,o?function(t){let{prefix:e,iconName:n,children:i,attributes:r,symbol:a}=t;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...r,id:!0===a?"".concat(e,"-").concat(Bs.cssPrefix,"-").concat(n):a},children:i}]}]}(v):function(t){let{children:e,main:n,mask:i,attributes:r,styles:a,transform:o}=t;if(Hs(o)&&n.found&&!i.found){const{width:t,height:e}=n,i={x:t/e/2,y:.5};r.style=qs({...a,"transform-origin":"".concat(i.x+o.x/16,"em ").concat(i.y+o.y/16,"em")})}return[{tag:"svg",attributes:r,children:e}]}(v)}function jl(t){const{content:e,width:n,height:i,transform:r,title:a,extra:o,watchable:s=!1}=t,l={...o.attributes,...a?{title:a}:{},class:o.classes.join(" ")};s&&(l[os]="");const c={...o.styles};Hs(r)&&(c.transform=function(t){let{transform:e,width:n=rs,height:i=rs,startCentered:r=!1}=t,a="";return a+=r&&Ho?"translate(".concat(e.x/Ts-n/2,"em, ").concat(e.y/Ts-i/2,"em) "):r?"translate(calc(-50% + ".concat(e.x/Ts,"em), calc(-50% + ").concat(e.y/Ts,"em)) "):"translate(".concat(e.x/Ts,"em, ").concat(e.y/Ts,"em) "),a+="scale(".concat(e.size/Ts*(e.flipX?-1:1),", ").concat(e.size/Ts*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}({transform:r,startCentered:!0,width:n,height:i}),c["-webkit-transform"]=c.transform);const u=qs(c);u.length>0&&(l.style=u);const h=[];return h.push({tag:"span",attributes:l,children:[e]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}const{styles:Rl}=Us;function ql(t){const e=t[0],n=t[1],[i]=t.slice(4);let r=null;return r=Array.isArray(i)?{tag:"g",attributes:{class:"".concat(Bs.cssPrefix,"-").concat(Ms.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Bs.cssPrefix,"-").concat(Ms.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Bs.cssPrefix,"-").concat(Ms.PRIMARY),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:r}}const Hl={found:!1,width:512,height:512};function Fl(t,e){let n=e;return"fa"===e&&null!==Bs.styleDefault&&(e=bl()),new Promise(((i,r)=>{if("fa"===n){const n=xl(t)||{};t=n.iconName||t,e=n.prefix||e}if(t&&e&&Rl[e]&&Rl[e][t]){return i(ql(Rl[e][t]))}!function(t,e){fs||Bs.showMissingIcons||!t||console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}(t,e),i({...Hl,icon:Bs.showMissingIcons&&t&&Cl("missingIconAbstract")||{}})}))}const Yl=()=>{},Xl=Bs.measurePerformance&&Ro&&Ro.mark&&Ro.measure?Ro:{mark:Yl,measure:Yl},Wl='FA "6.6.0"',Vl=t=>{Xl.mark("".concat(Wl," ").concat(t," ends")),Xl.measure("".concat(Wl," ").concat(t),"".concat(Wl," ").concat(t," begins"),"".concat(Wl," ").concat(t," ends"))};var Ul=t=>(Xl.mark("".concat(Wl," ").concat(t," begins")),()=>Vl(t));const Gl=()=>{};function Kl(t){return"string"==typeof(t.getAttribute?t.getAttribute(os):null)}function Ql(t){return Do.createElementNS("http://www.w3.org/2000/svg",t)}function Zl(t){return Do.createElement(t)}function Jl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===t.tag?Ql:Zl)}=e;if("string"==typeof t)return Do.createTextNode(t);const i=n(t.tag);Object.keys(t.attributes||[]).forEach((function(e){i.setAttribute(e,t.attributes[e])}));return(t.children||[]).forEach((function(t){i.appendChild(Jl(t,{ceFn:n}))})),i}const tc={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach((t=>{e.parentNode.insertBefore(Jl(t),e)})),null===e.getAttribute(os)&&Bs.keepOriginalSource){let t=Do.createComment(function(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~js(e).indexOf(Bs.replacementClass))return tc.replace(t);const i=new RegExp("".concat(Bs.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const t=n[0].attributes.class.split(" ").reduce(((t,e)=>(e===Bs.replacementClass||e.match(i)?t.toSvg.push(e):t.toNode.push(e),t)),{toNode:[],toSvg:[]});n[0].attributes.class=t.toSvg.join(" "),0===t.toNode.length?e.removeAttribute("class"):e.setAttribute("class",t.toNode.join(" "))}const r=n.map((t=>Zs(t))).join("\n");e.setAttribute(os,""),e.innerHTML=r}};function ec(t){t()}function nc(t,e){const n="function"==typeof e?e:Gl;if(0===t.length)n();else{let e=ec;"async"===Bs.mutateApproach&&(e=Lo.requestAnimationFrame||ec),e((()=>{const e=!0===Bs.autoReplaceSvg?tc.replace:tc[Bs.autoReplaceSvg]||tc.replace,i=Ul("mutate");t.map(e),i(),n()}))}}let ic=!1;function rc(){ic=!0}function ac(){ic=!1}let oc=null;function sc(t){if(!jo)return;if(!Bs.observeMutations)return;const{treeCallback:e=Gl,nodeCallback:n=Gl,pseudoElementsCallback:i=Gl,observeMutationsRoot:r=Do}=t;oc=new jo((t=>{if(ic)return;const r=bl();Ds(t).forEach((t=>{if("childList"===t.type&&t.addedNodes.length>0&&!Kl(t.addedNodes[0])&&(Bs.searchPseudoElements&&i(t.target),e(t.target)),"attributes"===t.type&&t.target.parentNode&&Bs.searchPseudoElements&&i(t.target.parentNode),"attributes"===t.type&&Kl(t.target)&&~Ss.indexOf(t.attributeName))if("class"===t.attributeName&&function(t){const e=t.getAttribute?t.getAttribute(ls):null,n=t.getAttribute?t.getAttribute(cs):null;return e&&n}(t.target)){const{prefix:e,iconName:n}=kl(js(t.target));t.target.setAttribute(ls,e||r),n&&t.target.setAttribute(cs,n)}else(a=t.target)&&a.classList&&a.classList.contains&&a.classList.contains(Bs.replacementClass)&&n(t.target);var a}))})),qo&&oc.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function lc(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),i=void 0!==t.innerText?t.innerText.trim():"";let r=kl(js(t));return r.prefix||(r.prefix=bl()),e&&n&&(r.prefix=e,r.iconName=n),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=(a=r.prefix,o=t.innerText,(cl[a]||{})[o]||yl(r.prefix,el(t.innerText)))),!r.iconName&&Bs.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=t.firstChild.data)),r;var a,o}function cc(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:i,rest:r}=lc(t),a=function(t){const e=Ds(t.attributes).reduce(((t,e)=>("class"!==t.name&&"style"!==t.name&&(t[e.name]=e.value),t)),{}),n=t.getAttribute("title"),i=t.getAttribute("data-fa-title-id");return Bs.autoA11y&&(n?e["aria-labelledby"]="".concat(Bs.replacementClass,"-title-").concat(i||Ls()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),o=Il("parseNodeAttributes",{},t);let s=e.styleParser?function(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce(((t,e)=>{const n=e.split(":"),i=n[0],r=n.slice(1);return i&&r.length>0&&(t[i]=r.join(":").trim()),t}),{})),n}(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:zs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:s,attributes:a},...o}}const{styles:uc}=Us;function hc(t){const e="nest"===Bs.autoReplaceSvg?cc(t,{styleParser:!1}):cc(t);return~e.extra.classes.indexOf(Ns)?Cl("generateLayersText",t,e):Cl("generateSvgReplacementMutation",t,e)}let fc=new Set;function dc(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!qo)return Promise.resolve();const n=Do.documentElement.classList,i=t=>n.add("".concat(us,"-").concat(t)),r=t=>n.remove("".concat(us,"-").concat(t)),a=Bs.autoFetchSvg?fc:ds.map((t=>"fa-".concat(t))).concat(Object.keys(uc));a.includes("fa")||a.push("fa");const o=[".".concat(Ns,":not([").concat(os,"])")].concat(a.map((t=>".".concat(t,":not([").concat(os,"])")))).join(", ");if(0===o.length)return Promise.resolve();let s=[];try{s=Ds(t.querySelectorAll(o))}catch(t){}if(!(s.length>0))return Promise.resolve();i("pending"),r("complete");const l=Ul("onTree"),c=s.reduce(((t,e)=>{try{const n=hc(e);n&&t.push(n)}catch(t){fs||"MissingIcon"===t.name&&console.error(t)}return t}),[]);return new Promise(((t,n)=>{Promise.all(c).then((n=>{nc(n,(()=>{i("active"),i("complete"),r("pending"),"function"==typeof e&&e(),l(),t()}))})).catch((t=>{l(),n(t)}))}))}function pc(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;hc(t).then((t=>{t&&nc([t],e)}))}ds.map((t=>{fc.add("fa-".concat(t))})),Object.keys(gs[Fo]).map(fc.add.bind(fc)),Object.keys(gs[Xo]).map(fc.add.bind(fc)),Object.keys(gs[Wo]).map(fc.add.bind(fc)),fc=[...fc];const mc=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=zs,symbol:i=!1,mask:r=null,maskId:a=null,title:o=null,titleId:s=null,classes:l=[],attributes:c={},styles:u={}}=e;if(!t)return;const{prefix:h,iconName:f,icon:d}=t;return Ll({type:"icon",...t},(()=>($l("beforeDOMElementCreation",{iconDefinition:t,params:e}),Bs.autoA11y&&(o?c["aria-labelledby"]="".concat(Bs.replacementClass,"-title-").concat(s||Ls()):(c["aria-hidden"]="true",c.focusable="false")),Dl({icons:{main:ql(d),mask:r?ql(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:f,transform:{...zs,...n},symbol:i,title:o,maskId:a,titleId:s,extra:{attributes:c,styles:u,classes:l}}))))};var gc={mixout(){return{icon:(t=mc,function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(e||{}).icon?e:El(e||{});let{mask:r}=n;return r&&(r=(r||{}).icon?r:El(r||{})),t(i,{...n,mask:r})})};var t},hooks:()=>({mutationObserverCallbacks:t=>(t.treeCallback=dc,t.nodeCallback=pc,t)}),provides(t){t.i2svg=function(t){const{node:e=Do,callback:n=()=>{}}=t;return dc(e,n)},t.generateSvgReplacementMutation=function(t,e){const{iconName:n,title:i,titleId:r,prefix:a,transform:o,symbol:s,mask:l,maskId:c,extra:u}=e;return new Promise(((e,h)=>{Promise.all([Fl(n,a),l.iconName?Fl(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((l=>{let[h,f]=l;e([t,Dl({icons:{main:h,mask:f},prefix:a,iconName:n,transform:o,symbol:s,maskId:c,title:i,titleId:r,extra:u,watchable:!0})])})).catch(h)}))},t.generateAbstractIcon=function(t){let{children:e,attributes:n,main:i,transform:r,styles:a}=t;const o=qs(a);let s;return o.length>0&&(n.style=o),Hs(r)&&(s=Cl("generateAbstractTransformGrouping",{main:i,transform:r,containerWidth:i.width,iconWidth:i.width})),e.push(s||i.icon),{children:e,attributes:n}}}},yc={mixout:()=>({layer(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=e;return Ll({type:"layer"},(()=>{$l("beforeDOMElementCreation",{assembler:t,params:e});let i=[];return t((t=>{Array.isArray(t)?t.map((t=>{i=i.concat(t.abstract)})):i=i.concat(t.abstract)})),[{tag:"span",attributes:{class:["".concat(Bs.cssPrefix,"-layers"),...n].join(" ")},children:i}]}))}})},vc={mixout:()=>({counter(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:i=[],attributes:r={},styles:a={}}=e;return Ll({type:"counter",content:t},(()=>($l("beforeDOMElementCreation",{content:t,params:e}),function(t){const{content:e,title:n,extra:i}=t,r={...i.attributes,...n?{title:n}:{},class:i.classes.join(" ")},a=qs(i.styles);a.length>0&&(r.style=a);const o=[];return o.push({tag:"span",attributes:r,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:t.toString(),title:n,extra:{attributes:r,styles:a,classes:["".concat(Bs.cssPrefix,"-layers-counter"),...i]}}))))}})},xc={mixout:()=>({text(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=zs,title:i=null,classes:r=[],attributes:a={},styles:o={}}=e;return Ll({type:"text",content:t},(()=>($l("beforeDOMElementCreation",{content:t,params:e}),jl({content:t,transform:{...zs,...n},title:i,extra:{attributes:a,styles:o,classes:["".concat(Bs.cssPrefix,"-layers-text"),...r]}}))))}}),provides(t){t.generateLayersText=function(t,e){const{title:n,transform:i,extra:r}=e;let a=null,o=null;if(Ho){const e=parseInt(getComputedStyle(t).fontSize,10),n=t.getBoundingClientRect();a=n.width/e,o=n.height/e}return Bs.autoA11y&&!n&&(r.attributes["aria-hidden"]="true"),Promise.resolve([t,jl({content:t.innerHTML,width:a,height:o,transform:i,title:n,extra:r,watchable:!0})])}}};const bc=new RegExp('"',"ug"),wc=[1105920,1112319],_c={FontAwesome:{normal:"fas",400:"fas"},"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"},"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"},"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},kc=Object.keys(_c).reduce(((t,e)=>(t[e.toLowerCase()]=_c[e],t)),{}),Nc=Object.keys(kc).reduce(((t,e)=>{const n=kc[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t}),{});function Ac(t,e){const n="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(((i,r)=>{if(null!==t.getAttribute(n))return i();const a=Ds(t.children).filter((t=>t.getAttribute(ss)===e))[0],o=Lo.getComputedStyle(t,e),s=o.getPropertyValue("font-family"),l=s.match(As),c=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(a&&!l)return t.removeChild(a),i();if(l&&"none"!==u&&""!==u){const u=o.getPropertyValue("content");let h=function(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),r=isNaN(i)?"normal":i;return(kc[n]||{})[r]||Nc[n]}(s,c);const{value:f,isSecondary:d}=function(t){const e=t.replace(bc,""),n=function(t,e){const n=t.length;let i,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?1024*(r-55296)+i-56320+65536:r}(e,0),i=n>=wc[0]&&n<=wc[1],r=2===e.length&&e[0]===e[1];return{value:el(r?e[0]:e),isSecondary:i||r}}(u),p=l[0].startsWith("FontAwesome");let m=yl(h,f),g=m;if(p){const t=function(t){const e=hl[t],n=yl("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(f);t.iconName&&t.prefix&&(m=t.iconName,h=t.prefix)}if(!m||d||a&&a.getAttribute(ls)===h&&a.getAttribute(cs)===g)i();else{t.setAttribute(n,g),a&&t.removeChild(a);const o={iconName:null,title:null,titleId:null,prefix:null,transform:zs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:s}=o;s.attributes[ss]=e,Fl(m,h).then((r=>{const a=Dl({...o,icons:{main:r,mask:{prefix:null,iconName:null,rest:[]}},prefix:h,iconName:g,extra:s,watchable:!0}),l=Do.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(l,t.firstChild):t.appendChild(l),l.outerHTML=a.map((t=>Zs(t))).join("\n"),t.removeAttribute(n),i()})).catch(r)}}else i()}))}function Sc(t){return Promise.all([Ac(t,"::before"),Ac(t,"::after")])}function Mc(t){return!(t.parentNode===document.head||~hs.indexOf(t.tagName.toUpperCase())||t.getAttribute(ss)||t.parentNode&&"svg"===t.parentNode.tagName)}function Ic(t){if(qo)return new Promise(((e,n)=>{const i=Ds(t.querySelectorAll("*")).filter(Mc).map(Sc),r=Ul("searchPseudoElements");rc(),Promise.all(i).then((()=>{r(),ac(),e()})).catch((()=>{r(),ac(),n()}))}))}var $c={hooks:()=>({mutationObserverCallbacks:t=>(t.pseudoElementsCallback=Ic,t)}),provides(t){t.pseudoElements2svg=function(t){const{node:e=Do}=t;Bs.searchPseudoElements&&Ic(e)}}};let Cc=!1;var Ec={mixout:()=>({dom:{unwatch(){rc(),Cc=!0}}}),hooks:()=>({bootstrap(){sc(Il("mutationObserverCallbacks",{}))},noAuto(){oc&&oc.disconnect()},watch(t){const{observeMutationsRoot:e}=t;Cc?ac():sc(Il("mutationObserverCallbacks",{observeMutationsRoot:e}))}})};const Pc=t=>t.toLowerCase().split(" ").reduce(((t,e)=>{const n=e.toLowerCase().split("-"),i=n[0];let r=n.slice(1).join("-");if(i&&"h"===r)return t.flipX=!0,t;if(i&&"v"===r)return t.flipY=!0,t;if(r=parseFloat(r),isNaN(r))return t;switch(i){case"grow":t.size=t.size+r;break;case"shrink":t.size=t.size-r;break;case"left":t.x=t.x-r;break;case"right":t.x=t.x+r;break;case"up":t.y=t.y-r;break;case"down":t.y=t.y+r;break;case"rotate":t.rotate=t.rotate+r}return t}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var Bc={mixout:()=>({parse:{transform:t=>Pc(t)}}),hooks:()=>({parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=Pc(n)),t}}),provides(t){t.generateAbstractTransformGrouping=function(t){let{main:e,transform:n,containerWidth:i,iconWidth:r}=t;const a={transform:"translate(".concat(i/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={transform:"".concat(o," ").concat(s," ").concat(l)},u={transform:"translate(".concat(r/2*-1," -256)")};return{tag:"g",attributes:{...a},children:[{tag:"g",attributes:{...c},children:[{tag:e.icon.tag,children:e.icon.children,attributes:{...e.icon.attributes,...u}}]}]}}}};const Oc={x:0,y:0,width:"100%",height:"100%"};function Tc(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}var zc={hooks:()=>({parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),i=n?kl(n.split(" ").map((t=>t.trim()))):{prefix:null,iconName:null,rest:[]};return i.prefix||(i.prefix=bl()),t.mask=i,t.maskId=e.getAttribute("data-fa-mask-id"),t}}),provides(t){t.generateAbstractMask=function(t){let{children:e,attributes:n,main:i,mask:r,maskId:a,transform:o}=t;const{width:s,icon:l}=i,{width:c,icon:u}=r,h=function(t){let{transform:e,containerWidth:n,iconWidth:i}=t;const r={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:o,containerWidth:c,iconWidth:s}),f={tag:"rect",attributes:{...Oc,fill:"white"}},d=l.children?{children:l.children.map(Tc)}:{},p={tag:"g",attributes:{...h.inner},children:[Tc({tag:l.tag,attributes:{...l.attributes,...h.path},...d})]},m={tag:"g",attributes:{...h.outer},children:[p]},g="mask-".concat(a||Ls()),y="clip-".concat(a||Ls()),v={tag:"mask",attributes:{...Oc,id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[f,m]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(b=u,"g"===b.tag?b.children:[b])},v]};var b;return e.push(x,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")"),...Oc}}),{children:e,attributes:n}}}},Lc={provides(t){let e=!1;Lo.matchMedia&&(e=Lo.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const t=[],n={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:{...n,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const r={...i,attributeName:"opacity"},a={tag:"circle",attributes:{...n,cx:"256",cy:"364",r:"28"},children:[]};return e||a.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...r,values:"1;0;1;1;0;1;"}}),t.push(a),t.push({tag:"path",attributes:{...n,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...r,values:"1;0;0;0;0;1;"}}]}),e||t.push({tag:"path",attributes:{...n,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...r,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:t}}}};!function(t,e){let{mixoutsTo:n}=e;Nl=t,Al={},Object.keys(Sl).forEach((t=>{-1===Ml.indexOf(t)&&delete Sl[t]})),Nl.forEach((t=>{const e=t.mixout?t.mixout():{};if(Object.keys(e).forEach((t=>{"function"==typeof e[t]&&(n[t]=e[t]),"object"==typeof e[t]&&Object.keys(e[t]).forEach((i=>{n[t]||(n[t]={}),n[t][i]=e[t][i]}))})),t.hooks){const e=t.hooks();Object.keys(e).forEach((t=>{Al[t]||(Al[t]=[]),Al[t].push(e[t])}))}t.provides&&t.provides(Sl)}))}([Ws,gc,yc,vc,xc,$c,Ec,Bc,zc,Lc,{hooks:()=>({parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),i=null!==n&&(""===n||n);return t.symbol=i,t}})}],{mixoutsTo:Tl});const Dc=Tl.icon;class jc extends hi{constructor(t){super(t=t||{}),this.itemId=t.itemId||null,this.layout=t.layout||{},this.layout.margin=this.layout.margin||{top:0,right:0,bottom:0,left:0},this.headerOffset=0,this.data=t.data||{}}get checkResize(){return Math.round(this.width)!==Math.round(this.lastWidth)||Math.round(this.height)!==Math.round(this.lastHeight)}get checkMove(){return Math.round(this.left)!==Math.round(this.lastLeft)||Math.round(this.top)!==Math.round(this.lastTop)}setLasts(){this.lastWidth=this.width,this.lastHeight=this.height,this.lastLeft=this.left,this.lastTop=this.top}get plotAreaWidth(){return this.width-this.layout.margin.left-this.layout.margin.right}get plotAreaHeight(){return this.height-this.layout.margin.top-this.layout.margin.bottom-this.headerOffset}get plotAreaLeft(){return this.layout.margin.left}get plotAreaTop(){return this.layout.margin.top+this.headerOffset}get plotAreaId(){return`${this.id}-plot-area`}addPlotAreaDiv(){kr(`#${this.id}`).append("div").attr("id",`${this.plotAreaId}`).attr("class","plot-area").style("position","absolute").style("top",`${this.plotAreaTop}px`).style("left",`${this.plotAreaLeft}px`).style("width",`${this.plotAreaWidth}px`).style("height",`${this.plotAreaHeight}px`).attr("width",this.plotAreaWidth).attr("height",this.plotAreaHeight)}addPlotAreaSvg(){kr(`#${this.id}`).append("svg").attr("id",`${this.plotAreaId}`).attr("class","plot-area").style("position","absolute").style("top",`${this.plotAreaTop}px`).style("left",`${this.plotAreaLeft}px`).style("width",`${this.plotAreaWidth}px`).style("height",`${this.plotAreaHeight}px`).style("overflow","visible").attr("width",this.plotAreaWidth).attr("height",this.plotAreaHeight)}updatePlotAreaSize(){kr(`#${this.id}`).select(".plot-area").style("top",`${this.plotAreaTop}px`).style("left",`${this.plotAreaLeft}px`).style("width",`${this.plotAreaWidth}px`).style("height",`${this.plotAreaHeight}px`).attr("width",this.plotAreaWidth).attr("height",this.plotAreaHeight)}addTitle(){const t=kr(`#${this.id}`);if(!this.layout.title)return void t.select(".plot-title").remove();const e=t.select(".plot-title");if(e.empty()){const e=t.append("div").attr("class","plot-title").attr("id",`${this.id}-plot-title`).style("position","absolute").style("top","0").style("left","0").style("width","100%").style("display","flex").style("justify-content","space-between").style("align-items","center").append("div").attr("class","plot-title-text").style("text-align","left").text(this.layout.title);this.headerOffset=e.node().clientHeight+3}else e.select(".plot-title-text").text(this.layout.title),this.headerOffset=e.node().clientHeight+3}addIcons(){const t=kr(`#${this.id}`),e=this.icons;if(!e||0===e.length)return void t.select(".plot-icons").remove();const n=t.select(".plot-title");let i=t.select(".plot-title").select(".plot-icons");i.empty()&&(i=n.empty()?t.append("div"):n.append("div"),i.attr("class","plot-icons").attr("id",`${this.id}-plot-icons`).style("display","flex").style("justify-content","flex-end").style("align-items","center").style("pointer-events","all"));const r=i.selectAll(".plot-icon").data(e);r.enter().append("div").attr("class","plot-icon").attr("id",((t,e)=>t.id?t.id:`icon-${e}`)).style("margin-left","5px").style("font-size","1.0em").html((t=>Dc(t.icon).html)).on("click",(function(t,e){e.action()})),r.exit().remove()}updateHeader(){this.addTitle(),this.addIcons()}}class Rc extends jc{constructor(t){super(t=t||{}),this.layout.nodeBoxMargin=this.layout.nodeBoxMargin||7,this.layout.socketRadius=this.layout.socketRadius||5,this.name=t.name||"node name",this.data.sockets.forEach((t=>{t.cenLast={x:0,y:0}}))}make(){this.addPlotAreaSvg(),this.update()}update(){const t=this.data,e=kr(`#${this.id}`).select(".plot-area"),n=this.ancestorIds[this.ancestorIds.length-1],i=this.sharedStateByAncestorId[n].socketAbsolutePositions,r=this.sharedStateByAncestorId[this.boardId].selectedNode;this.updatePlotAreaSize();const a=this.layout.nodeBoxMargin,o=this.plotAreaWidth-2*a,s=this.plotAreaHeight-2*a;let l=e.select(".node-rect"),c=e.select(".node-title");l.empty()&&(l=e.append("rect").attr("class","node-rect").attr("x",a).attr("y",a).attr("fill",Nr[t.colorIndex]).attr("stroke","black").attr("stroke-width",2).attr("rx",10).style("pointer-events","all").on("click",(()=>{r.state={name:t.name}})),c=e.append("text").attr("class","node-title").attr("x",o/2+a).attr("y",s/2+a).attr("font-size","16px").attr("text-anchor","middle").attr("dominant-baseline","middle").text(t.name)),l.attr("width",o).attr("height",s),c.attr("x",o/2+this.layout.nodeBoxMargin).attr("y",s/2+this.layout.nodeBoxMargin);const u=t.sockets,h=u.filter((t=>"left"==t.position)),f=u.filter((t=>"right"==t.position)),d=u.filter((t=>"top"==t.position)),p=u.filter((t=>"bottom"==t.position));u.filter((t=>"centre"==t.position));const m=s/(h.length+1),g=s/(f.length+1),y=o/(d.length+1),v=o/(p.length+1),x=140;h.forEach(((t,e)=>{const n=(e+1)*m+a;t.cen={x:a,y:n},t.normal={x:a-x,y:n},w(t)})),f.forEach(((t,e)=>{const n=(e+1)*g+a;t.cen={x:o+a,y:n},t.normal={x:o+a+x,y:n},w(t)})),d.forEach(((t,e)=>{const n=(e+1)*y+a;t.cen={x:n,y:a},t.normal={x:n,y:a-x},w(t)})),p.forEach(((t,e)=>{const n=(e+1)*v+a;t.cen={x:n,y:s+a},t.normal={x:n,y:s+a+x},w(t)}));const b=e.selectAll(".socket").data(u,(t=>t.name));function w(t){let n=!1;const r=e.node().getBoundingClientRect(),a=t.cen.x+r.left,o=t.cen.y+r.top,s=Math.abs(a-t.cenLast.x)>.5,l=Math.abs(o-t.cenLast.y)>.5;if((s||l)&&(n=!0),n){t.cenLast={x:a,y:o};const e={x:a,y:o},n={x:t.normal.x+r.left,y:t.normal.y+r.top};i.find((e=>e.socketName==t.name)).position.state={socketName:t.name,cen:e,normal:n}}}b.enter().append("circle").attr("class","socket").attr("r",this.layout.socketRadius).attr("fill","white").attr("stroke","black").attr("stroke-width",2).attr("cx",(t=>t.cen.x)).attr("cy",(t=>t.cen.y)),b.attr("cx",(t=>t.cen.x)).attr("cy",(t=>t.cen.y)),b.exit().remove()}}class qc extends jc{constructor(t){super(t=t||{})}make(){this.updateHeader(),this.addPlotAreaSvg(),this.updateHeader();this.sharedStateByAncestorId[this.boardId].selectedLog.subscribe(this.highlightLog.bind(this));const t=this.data.nodes.map((t=>t.sockets)).flat().map((t=>{const e=new ei({state:{socketName:t.name,cen:null,normal:null}});return e.subscribe(this.drawLink.bind(this)),{socketName:t.name,position:e}}));this.sharedState.socketAbsolutePositions=t;const e=kr(`#${this.plotAreaId}`);e.style("pointer-events","all"),Nr.forEach(((t,n)=>{const i=`arrowhead-${n}`;e.append("defs").append("marker").attr("id",i).attr("viewBox","-10 -10 20 20").attr("refX",10).attr("refY",0).attr("markerWidth",10).attr("markerHeight",10).attr("orient","auto").append("path").attr("d","M-6,-6 L6,0 L-6,6 Z").attr("fill",t)})),this.update()}update(){const t=this.data.nodes||[],e=t.map((t=>t.name)),n=this.sharedState.boxes||[],i=n.map((t=>t.name)),r=e.filter((t=>!i.includes(t))),a=i.filter((t=>!e.includes(t))),o=n.filter((t=>a.includes(t.name))).map((t=>t.boxId)),s=[];r.forEach((e=>{const n=t.find((t=>t.name==e)),i=n.position,r=new pi({x:i.x,y:i.y,width:i.width,height:i.height,componentMargin:{top:0,left:0,bottom:0,right:0},name:n.name,className:"node-plot",component:new Rc({data:n,name:n.name})});s.push(r)})),this.sharedState.requestUpdateBoxes.state={boxesToRemove:o,boxesToAdd:s}}drawLink(t){const e=t.socketName,n=t.cen,i=t.normal,r=this.data.logs.map((t=>({name:t.name,targetName:t.targetName}))),a=this.sharedStateByAncestorId[this.boardId].selectedLog,o=this.data.links.find((t=>t.socketNames.includes(e))),s=o.socketNames.find((t=>t!=e)),l=this.sharedState.socketAbsolutePositions.find((t=>t.socketName==s)).position.state,c=l.cen,u=l.normal;let h,f,d,p;if(e==o.socketNames[0]?(h=n,f=i,d=c,p=u):(h=c,f=u,d=n,p=i),c){const t=kr(`#${this.plotAreaId}`),e=t.node().getBoundingClientRect(),n=e.left,i=e.top,s=`M${h.x-n},${h.y-i} C${f.x-n},${f.y-i} ${p.x-n},${p.y-i} ${d.x-n},${d.y-i}`,l=`${this.id}-${o.name.replace(/ /g,"-")}`;let c=t.select(`#${l}`);c.empty()?c=t.append("path").datum(o).attr("class","link").attr("id",l).attr("d",s).attr("fill","none").attr("stroke",Nr[o.colorIndex]).attr("stroke-width",2).attr("marker-end",`url(#arrowhead-${o.colorIndex})`).on("mouseenter",(function(t,e){const n=e.name,i=r.find((t=>t.targetName==n));i&&(a.state={name:i.name,targetName:i.targetName})})).on("mouseleave",(function(t,e){a.state={name:null,targetName:null}})):c.datum(o).attr("d",s)}}highlightLog(t){const e=t.targetName;this.data.links.map((t=>t.name)).includes(e)&&this.highlightLink(e),e||this.highlightLink("")}highlightLink(t){const e=kr(`#${this.plotAreaId}`),n=`${this.id}-${t.replace(/ /g,"-")}`;e.selectAll(".link").each((function(t){const e=kr(this);e.attr("id")==n?e.attr("stroke-width",4):e.attr("stroke-width",2)}))}}const Hc={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},Fc={prefix:"fas",iconName:"chart-column",icon:[512,512,[],"e0e3","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zM160 224c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32zm128-64l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32s32 14.3 32 32zm64 32c17.7 0 32 14.3 32 32l0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96c0-17.7 14.3-32 32-32zM480 96l0 224c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-224c0-17.7 14.3-32 32-32s32 14.3 32 32z"]};class Yc extends jc{constructor(t){super(t=t||{}),this.linePlot=!0,this.barPlot=!1}make(){this.icons=[];const t=this.linePlotSelected.bind(this),e=this.barPlotSelected.bind(this);this.icons.push({icon:Hc,id:"line-icon",action:t}),this.icons.push({icon:Fc,id:"bar-icon",action:e}),this.updateHeader(),this.addPlotAreaSvg();this.sharedStateByAncestorId[this.boardId].selectedLog.subscribe(this.highlightLog.bind(this)),this.setPlotIconBackground(),this.update()}update(){this.updateHeader(),this.updatePlotAreaSize();const t=this.data.logs||[],e=this.sharedStateByAncestorId[this.boardId].selectedLog,n=this.sharedStateByAncestorId[this.boardId].modelName,i=this.sharedStateByAncestorId.context.models.find((t=>t.name==n)).config,r=i.timeStepSize||1,a=i.timeIntegrationUnitFactor||1,o=[],s=[];t.forEach((t=>{const e={};e.name=t.name,e.targetName=t.targetName,e.colorIndex=t.colorIndex;const n=t.states.map(((t,e)=>({x:e,y:t.value})));e.pts=n,o.push(e);const i={};i.name=t.name,i.targetName=t.targetName,i.colorIndex=t.colorIndex,i.value=t.states.reduce(((e,n,i)=>{if(0===i)return e;const a=t.states[i-1];return e+(n.value+a.value)/2*r}),0),i.value/=a,s.push(i)}));const l=kr(`#${this.plotAreaId}`),c=this.plotAreaWidth,u=this.plotAreaHeight;if(this.linePlot){const t={top:20,right:20,bottom:30,left:50},e=c-t.left-t.right,n=u-t.top-t.bottom,i=o.map((t=>({x:Na(t.pts,(t=>t.x)),y:Na(t.pts,(t=>t.y))}))),r=Na(i.map((t=>t.x)).flat()),a=Na(i.map((t=>t.y)).flat()),s=so().domain(r).range([0,e]),d=so().domain(a).range([n,0]);let p=l.select(".line-plot-svg");l.select(".bar-chart-svg").remove(),p.empty()&&(p=l.append("g").attr("class","line-plot-svg").attr("transform",`translate(${t.left}, ${t.top})`).style("pointer-events","all"));const m=bo().x((t=>s(t.x))).y((t=>d(t.y))),g=p.selectAll(".line").data(o,(t=>t.name));g.enter().each((function(t){kr(this).append("g").attr("class","line").append("path").attr("class","line-path").attr("d",(t=>m(t.pts))).attr("stroke",(t=>Nr[t.colorIndex])).attr("fill","none").attr("stroke-width",2).on("mouseenter",h).on("mouseleave",f)})),g.each((function(t){kr(this).select("path").attr("d",(t=>m(t.pts))).attr("stroke",(t=>Nr[t.colorIndex]))})),g.exit().remove();const y=$o(s),v=Co(d);let x=p.select(".x-axis");x.empty()?x=p.append("g").attr("class","x-axis").attr("transform",`translate(0, ${n})`).call(y):x.call(y);let b=p.select(".y-axis");b.empty()?b=p.append("g").attr("class","y-axis").call(v):b.call(v)}if(this.barPlot){const t={top:20,right:20,bottom:30,left:40},e=c-t.left-t.right,n=u-t.top-t.bottom,i=Na(s.map((t=>t.value))),r=za().domain(s.map((t=>t.name))).range([0,e]).padding(.1),a=so().domain([0,i[1]]).range([n,0]);let o=l.select(".line-plot-svg"),d=l.select(".bar-chart-svg");o.remove(),d.empty()&&(d=l.append("g").attr("class","bar-chart-svg").attr("transform",`translate(${t.left}, ${t.top})`).style("pointer-events","all"));const p=d.selectAll(".bar").data(s,(t=>t.name));p.enter().append("rect").attr("class","bar").attr("x",(t=>r(t.name))).attr("y",(t=>a(t.value))).attr("width",r.bandwidth()).attr("height",(t=>n-a(t.value))).attr("fill",(t=>Nr[t.colorIndex])).on("mouseenter",h).on("mouseleave",f),p.attr("x",(t=>r(t.name))).attr("y",(t=>a(t.value))).attr("width",r.bandwidth()).attr("height",(t=>n-a(t.value))),p.exit().remove();const m=$o(r),g=Co(a);let y=d.select(".x-axis");y.empty()&&(y=d.append("g").attr("class","x-axis").attr("transform",`translate(0, ${n})`)),y.call(m).selectAll("text").attr("y",0).attr("x",0).attr("dy",".35em").attr("transform","translate(0, 10)").style("text-anchor","middle").call((function(t,e){t.each((function(){const t=kr(this),n=t.text().split(/\s+/).reverse();let i,r=[],a=0,o=1.1,s=t.attr("y"),l=parseFloat(t.attr("dy")),c=t.text(null).append("tspan").attr("x",0).attr("y",s).attr("dy",`${l}em`);for(;i=n.pop();)r.push(i),c.text(r.join(" ")),c.node().getComputedTextLength()>e&&(r.pop(),c.text(r.join(" ")),r=[i],c=t.append("tspan").attr("x",0).attr("y",s).attr("dy",`${++a*o+l}em`).text(i))}))}),r.bandwidth());let v=d.select(".y-axis");v.empty()&&(v=d.append("g").attr("class","y-axis")),v.call(g)}function h(t,n){e.state={name:n.name,targetName:n.targetName}}function f(t,n){e.state={name:null,targetName:null}}}highlightLog(t){const e=t.name,n=kr(`#${this.plotAreaId}`);n.selectAll(".line").each((function(t){t.name==e?kr(this).select("path").attr("stroke-width",4):kr(this).select("path").attr("stroke-width",2)}));n.selectAll(".bar").each((function(t){t.name!=e&&e?kr(this).style("opacity",.6):kr(this).style("opacity",1)}))}setPlotIconBackground(){const t=kr(`#${this.id}`).select(".plot-icons"),e=t.select("#line-icon"),n=t.select("#bar-icon");this.linePlot&&(e.style("color","black"),n.style("color","gray")),this.barPlot&&(e.style("color","gray"),n.style("color","black"))}linePlotSelected(){this.linePlot=!0,this.barPlot=!1,this.setPlotIconBackground(),this.update()}barPlotSelected(){this.linePlot=!1,this.barPlot=!0,this.setPlotIconBackground(),this.update()}}class Xc extends jc{constructor(t){super(t=t||{})}make(){this.updateHeader(),this.addPlotAreaDiv();this.sharedStateByAncestorId[this.boardId].selectedNode.subscribe(this.update.bind(this));kr(`#${this.plotAreaId}`).style("pointer-events","all").style("overflow-y","auto").style("overflow-x","hidden")}update(){const t=this.sharedStateByAncestorId[this.boardId].selectedNode.state.name,e=this.sharedStateByAncestorId[this.boardId].modelName,n=this.sharedStateByAncestorId.context.models.find((t=>t.name==e)).nodes.find((e=>e.name==t)),i=this.sharedStateByAncestorId[this.boardId].requestSetNodeStateData,r=this.sharedStateByAncestorId[this.boardId].requestRunModelAndUpdateViews,a=kr(`#${this.plotAreaId}`);a.select(".node-title").remove(),a.append("div").attr("class","node-title").style("font-size","16px").style("font-weight","bold").style("margin-top","5px").style("margin-bottom","2px").text(t),a.select(".sliders").remove();const o=a.append("div").attr("class","sliders"),s=Object.entries(n.state).map((([t,e])=>({name:t,value:e,min:0,max:2*e})));o.selectAll(".slider-container").data(s).join((e=>{const n=e.append("div").attr("class","slider-container").style("display","flex").style("flex-direction","column").style("padding","10px 0");n.append("div").attr("class","slider-label").text((t=>t.name)).style("font-size","12px").style("font-weight","bold").style("text-align","left");const a=n.append("div").attr("class","slider-wrapper").style("display","flex").style("align-items","center").style("gap","10px");a.append("input").attr("type","range").attr("class","slider").attr("id",(t=>`slider-${t.name}`)).attr("min",(t=>t.min)).attr("max",(t=>t.max)).attr("value",(t=>t.value)).attr("step",(t=>(t.max-t.min)/200)).style("width","200px").on("input",(function(e,n){kr(`#value-${n.name}`).text(this.value),function(e){const n=+kr(`#slider-${e}`).node().value;i.state={nodeName:t,key:e,value:n},r.state=!0}(n.name)})),a.append("div").attr("class","slider-value").attr("id",(t=>`value-${t.name}`)).style("font-size","14px").style("min-width","50px").style("text-align","center").text((t=>t.value))}),(t=>t.remove()))}}class Wc{constructor(t){t=t||{},this.name=t.name||"modelName",this.nodes=t.nodes||[],this.links=t.links||[],this.logs=t.logs||[],this.maxNodeId=0,this.maxLinkId=0,this.maxLogId=0}getNodeId(){let t=`node-${this.maxNodeId}`;return this.maxNodeId++,t}getLinkId(){let t=`link-${this.maxLinkId}`;return this.maxLinkId++,t}getLogId(){let t=`log-${this.maxLogId}`;return this.maxLogId++,t}addNode(t){t.id=this.getNodeId(),this.nodes.push(t)}addLink(t){t.id=this.getLinkId();const e=t.socket1;e.link=t,e.otherSocket=t.socket2;const n=t.socket2;n.link=t,n.otherSocket=t.socket1,this.links.push(t)}addLog(t){t.id=this.getLogId(),this.logs.push(t)}removeNode(t){this.nodes=this.nodes.filter((e=>e!==t))}removeLink(t){this.links=this.links.filter((e=>e!==t))}removeLog(t){this.logs=this.logs.filter((e=>e!==t))}removeNodeById(t){this.nodes=this.nodes.filter((e=>e.id!==t))}removeLinkById(t){this.links=this.links.filter((e=>e.id!==t))}removeLogById(t){this.logs=this.logs.filter((e=>e.id!==t))}clearLogs(){this.logs.forEach((t=>t.clear()))}getLinkBySocket(t){return this.links.find((e=>e.socket1===t||e.socket2===t))}getNodeBySocket(t){return this.nodes.find((e=>e.sockets.includes(t)))}getNodeByName(t){return this.nodes.find((e=>e.name===t))}getLinkByName(t){return this.links.find((e=>e.name===t))}getNodeClassByClassName(t){if(!this.availableNodeClasses)return null;const e=this.availableNodeClasses.map((t=>(new t).className)),n=e.indexOf(t);return-1===n?null:this.availableNodeClasses[n]}getLinkClassByClassName(t){if(!this.availableLinkClasses)return null;if(1===this.availableLinkClasses.length)return this.availableLinkClasses[0];const e=this.availableLinkClasses.map((t=>(new t).className)),n=e.indexOf(t);return-1===n?null:this.availableLinkClasses[n]}get allSockets(){return this.nodes.map((t=>t.sockets)).flat()}getSocketByName(t){return this.allSockets.find((e=>e.name==t))}toJson(){const t={};return t.config=this.config,t.nodes=this.nodes.map((t=>{const e={};return e.name=t.name,e.className=t.className,e.state=t.state,e.displayConfig=t.displayConfig,e.sockets=t.sockets.map((t=>{const e={};return e.name=t.name,e.position=t.position,"variable"==t.state.valueType&&t.state.max==1/0&&(t.state.max=-1),e.state=t.state,e})),e})),t.links=this.links.map((t=>{const e={};return e.name=t.name,e.socket1Name=t.socket1.name,e.socket2Name=t.socket2.name,e})),t.logs=this.logs.map((t=>{const e={};return e.name=t.name,e.targetName=t.target.name,e})),JSON.stringify(t)}saveToFile(){const t=this.toJson(),e=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download="model.json",i.click()}fromJsonObject(t){this.config=t.config,t.nodes.forEach((t=>{const n=new(this.getNodeClassByClassName(t.className))(t);n.sockets=t.sockets.map((t=>("variable"==t.state.valueType&&-1==t.state.max&&(t.state.max=1/0),new e(t)))),this.addNode(n)})),t.links.forEach((t=>{const e=this.getSocketByName(t.socket1Name),n=this.getSocketByName(t.socket2Name);let i;i=t.className?this.getLinkClassByClassName(t.className):this.getLinkClassByClassName(),this.addLink(new i({name:t.name,socket1:e,socket2:n,colorIndex:t.colorIndex}))})),t.logs.forEach((t=>{const e=this.getNodeByName(t.targetName),i=this.getLinkByName(t.targetName),r=e||i;this.addLog(new n({name:t.name,target:r,colorIndex:t.colorIndex,targetName:t.targetName}))}))}async loadFromUrl(t){const e=await fetch(t),n=await e.json();this.fromJsonObject(n)}startVis(t){const e=(t=t||{}).targetId||"target",n=t.height||600,i=new fi;i.addModel(this);const r=new di({targetId:e,fixed:!0,modelName:this.name,widthPerCent:100,height:n});i.addBoard(r);const a=this.nodes.map((t=>t.displayData)),o=this.links.map((t=>t.displayData)),s=this.logs.map((t=>t.displayData)),l=new pi({fixed:!0,xPerCent:2,yPerCent:2,widthPerCent:58,heightPerCent:96,className:"model-structure-viewer",component:new qc({layout:{title:"Model structure"},data:{nodes:a,links:o,logs:s}})});r.addBox(l);const c=new pi({fixed:!0,xPerCent:62,yPerCent:2,widthPerCent:36,heightPerCent:50,className:"log-viewer",component:new Yc({layout:{title:"Logs"},data:{logs:s}})});r.addBox(c);const u=new pi({fixed:!0,xPerCent:62,yPerCent:54,widthPerCent:36,heightPerCent:44,className:"node-inspector",component:new Xc({layout:{title:"Node Inspector"},data:null})});return r.addBox(u),r.make(),i}}let Vc=class{constructor(t){this.name=t.name||"node",this.className=t.className||"nodeClass",this.sockets=[],this.state=t.state||{},this.maxSocketId=0,t.sockets&&t.sockets.forEach((t=>{this.addSocket(t)}));const e=t.displayConfig||{},n=e.position||{x:0,y:0};n.width=n.width||100,n.height=n.height||100;const i=e.colorIndex||0;this.displayConfig={position:n,colorIndex:i}}getSocketId(){let t=`socket-${this.maxSocketId}`;return this.maxSocketId++,t}get leftSockets(){return this.sockets.filter((t=>"left"===t.position))}get rightSockets(){return this.sockets.filter((t=>"right"===t.position))}get topSockets(){return this.sockets.filter((t=>"top"===t.position))}get bottomSockets(){return this.sockets.filter((t=>"bottom"===t.position))}addSocket(t){t.id=this.getSocketId(),this.sockets.push(t)}setSocketByIndex(t,e){e.id=this.getSocketId(),this.sockets[t]=e}getSocketByIndex(t){return this.sockets[t]}getSocketByName(t){return this.sockets.find((e=>e.name===t))}removeSocket(t){this.sockets=this.sockets.filter((e=>e!==t))}removeSocketById(t){this.sockets=this.sockets.filter((e=>e.id!==t))}removeSocketByIndex(t){this.sockets=this.sockets.filter(((e,n)=>n!==t))}setSocketOrderByName(t){const e=t.order,n=t.position;n?this.sockets.sort(((t,i)=>t.position===n&&i.position===n?e.indexOf(t.name)-e.indexOf(i.name):t.poistion===n?-1:i.position===n?1:0)):this.sockets.sort(((t,n)=>e.indexOf(t.name)-e.indexOf(n.name)))}get displayData(){return{name:this.name,className:this.className,position:this.displayConfig.position,colorIndex:this.displayConfig.colorIndex,sockets:this.sockets.map((t=>({name:t.name,position:t.position})))}}};class Uc{constructor(t){t=t||{},this.name=t.name||"link",this.socket1=t.socket1||null,this.socket2=t.socket2||null,this.state=t.state||{},this.colorIndex=t.colorIndex||0}getOtherSocket(t){return t===this.socket1?this.socket2:t===this.socket2?this.socket1:null}get displayData(){return{name:this.name,socketNames:[this.socket1.name,this.socket2.name],colorIndex:this.colorIndex}}}class Gc extends Vc{constructor(t){super(t=t||{})}setConstraints(){}initState(){}updateState(){}}class Kc extends Gc{constructor(t){(t=t||{}).className="gridExportNode",super(t),this.type="endNode";const n={};n.name=t.socketName||"Grid Export",n.position=t.position||"left",n.state=t.socketState||{max:1/0,value:null,valueType:"variable"},this.setSocketByIndex(0,new e(n)),this.displayConfig.colorIndex=3}}class Qc extends Gc{constructor(t){(t=t||{}).className="gridSupplyNode",super(t),this.type="endNode";const n={};n.name=t.socketName||"Grid Supply",n.position=t.position||"right",n.state=t.socketState||{max:1/0,value:null,valueType:"variable"},this.setSocketByIndex(0,new e(n)),this.displayConfig.colorIndex=2}}class Zc extends Gc{constructor(t){(t=t||{}).className="loadNode",t.state=t.state||{},t.state.socketMultiplier=t.state.socketMultiplier||1,super(t),this.type="endNode";const n={};n.name=t.socketName||"Load",n.position=t.position||"left",n.state=t.socketState||{max:null,value:null,valueType:"constraint",timeVarying:!1,timeSeries:null},this.setSocketByIndex(0,new e(n)),this.displayConfig.colorIndex=0}setConstraints(){const t=this.getSocketByIndex(0).state;"constraint"===t.valueType&&t.timeVarying&&(t.value=t.timeSeries[this.timeStep]*this.state.socketMultiplier)}}class Jc extends Gc{constructor(t){(t=t||{}).className="solarPVNode",t.state=t.state||{},t.state.socketMultiplier=t.state.socketMultiplier||1,super(t),this.type="endNode";const n={};n.name=t.socketName||"Solar PV",n.position=t.position||"right",n.state=t.socketState||{max:null,value:null,valueType:"constraint",timeVarying:!1,timeSeries:null},this.setSocketByIndex(0,new e(n)),this.displayConfig.colorIndex=5}setConstraints(){const t=this.getSocketByIndex(0).state;"constraint"!==!t.valueType&&t.timeVarying&&(t.value=t.timeSeries[this.timeStep]*this.state.socketMultiplier)}}class tu extends Gc{constructor(t){(t=t||{}).className="controllerNode",super(t),t.inputSocketOrder&&this.setSocketOrderByName({position:"left",order:t.inputSocketOrder}),t.outputSocketOrder&&this.setSocketOrderByName({position:"right",order:t.outputSocketOrder}),this.type="controllerNode",this.displayConfig.colorIndex=1}setFluxTargets(){const t=this.leftSockets,e=this.rightSockets,n=t.map((t=>t.otherSocket)),i=e.map((t=>t.otherSocket));let r=n.filter((t=>"constraint"==t.state.valueType)).reduce(((t,e)=>t+e.state.value),0),a=i.filter((t=>"constraint"==t.state.valueType)).reduce(((t,e)=>t+e.state.value),0);r>=a?(i.forEach((t=>{if("constraint"==t.state.valueType){const e=t.otherSocket;e.state.value=null,e.state.valueType="variable",e.state.max=1/0,r-=t.state.value}})),i.forEach((t=>{if("variable"==t.state.valueType){const e=t.otherSocket,n=Math.min(r,t.state.max);e.state.value=n,e.state.valueType="target",r-=n}})),n.forEach((t=>{if("constraint"==t.state.valueType){const e=t.otherSocket;e.state.value=null,e.state.valueType="variable",e.state.max=1/0}if("variable"==t.state.valueType){const e=t.otherSocket;e.state.value=0,e.state.valueType="target"}}))):(n.forEach((t=>{if("constraint"==t.state.valueType){const e=t.otherSocket;e.state.value=null,e.state.valueType="variable",e.state.max=1/0,a-=t.state.value}})),n.forEach((t=>{if("variable"==t.state.valueType){const e=t.otherSocket,n=Math.min(a,t.state.max);e.state.value=n,e.state.valueType="target",a-=n}})),i.forEach((t=>{if("constraint"==t.state.valueType){const e=t.otherSocket;e.state.value=null,e.state.valueType="variable",e.state.max=1/0}if("variable"==t.state.valueType){const e=t.otherSocket;e.state.value=0,e.state.valueType="target"}})))}}class eu extends Gc{constructor(t){(t=t||{}).state=t.state||{},t.state.maxCharge=t.state.maxCharge||3e3,t.state.maxDischarge=t.state.maxDischarge||3e3,t.state.initialCharge=t.state.initialCharge||0;const n=[new e({name:"Input",position:"left",state:{max:t.state.maxCharge,value:null,valueType:"variable"}}),new e({name:"Output",position:"right",state:{max:t.state.maxDischarge,value:null,valueType:"variable"}})];t.sockets=t.sockets||n,t.state.capacity=t.state.capacity||5,t.className="batteryStorageNode",super(t),this.state.charge=0,this.type="storageNode",this.displayConfig.colorIndex=6}initState(){this.state.charge=this.state.initialCharge}updateState(){const t=36e5,e=this.leftSockets,n=this.rightSockets,i=e.map((t=>t.link)),r=n.map((t=>t.link)),a=i.map((t=>t.state.value)),o=r.map((t=>t.state.value)),s=a.reduce(((t,e)=>t+e),0),l=o.reduce(((t,e)=>t+e),0),c=s-l,u=this.state.capacity-this.state.charge,h=Math.min(c*this.timeStepSize/t,u);this.state.charge+=h;let f=Math.min(this.state.maxDischarge,this.state.charge*t);f=Math.max(f,0);const d=Math.min(this.state.maxCharge,(this.state.capacity-this.state.charge)*t);this.getSocketByIndex(0).state.max=d,this.getSocketByIndex(1).state.max=f}}class nu extends Gc{constructor(t){(t=t||{}).className="waterDemandNode",t.state=t.state||{},t.state.socketMultiplier=t.state.socketMultiplier||1,super(t),this.type="endNode";const n={};n.name=t.socketName||"Water Demand",n.position=t.position||"bottom",n.state=t.socketState||{max:null,value:null,valueType:"constraint",timeVarying:!1,timeSeries:null},this.setSocketByIndex(0,new e(n)),this.displayConfig.colorIndex=7}setConstraints(){const t=this.getSocketByIndex(0).state;"constraint"===t.valueType&&t.timeVarying&&(t.value=t.timeSeries[this.timeStep]*this.state.socketMultiplier)}}class iu extends Gc{constructor(t){(t=t||{}).className="waterSupplyNode",super(t),this.type="endNode";const n={};n.name=t.socketName||"Water Supply",n.position=t.position||"top",n.state=t.socketState||{max:1/0,value:null,valueType:"variable"},this.setSocketByIndex(0,new e(n)),this.displayConfig.colorIndex=9}}class ru extends Gc{constructor(t){(t=t||{}).state=t.state||{},t.state.maxHeaterPower=t.state.maxHeaterPower||3e3,t.state.maxWaterTemp=t.state.maxWaterTemp||60,t.state.initialWaterTemp=t.state.initialWaterTemp||20,t.state.capacity=t.state.capacity||2e3;const n=[new e({name:"Heater Water In",position:"bottom",state:{max:1/0,value:0,valueType:"target"}}),new e({name:"Heater Water Out",position:"top",state:{max:1/0,value:null,valueType:"variable"}}),new e({name:"Heater Power In",position:"left",state:{max:t.state.maxHeaterPower,value:null,valueType:"variable"}})];t.sockets=t.sockets||n,t.className="electricWaterHeaterNode",super(t),this.state.waterTemp=t.state.initialWaterTemp,this.type="storageNode",this.displayConfig.colorIndex=8}initState(){this.state.waterTemp=this.state.initialWaterTemp}updateState(){const t=this.getSocketByIndex(0),e=this.getSocketByIndex(1),n=this.getSocketByIndex(2);t.link;const i=e.link,r=n.link,a=i.state.value,o=r.state.value;t.state.value=i.state.value,t.state.valueType="target";const s=a,l=this.timeStepSize*(o/4186+1*s*10-1*a*this.state.waterTemp)/(1*this.state.capacity);this.state.waterTemp+=l,this.state.waterTemp=Math.min(this.state.waterTemp,this.state.maxWaterTemp);const c=Math.min(this.state.maxHeaterPower,4186*(this.state.maxWaterTemp-this.state.waterTemp)*this.state.capacity*1/this.timeStepSize);n.state.max=c}}class au extends Uc{constructor(t){super(t)}setFlux(){const t=this.socket1.state,e=this.socket2.state;t.valueType==e.valueType&&console.log("warning - both sockets for this link have the same valueType",this),"variable"!=e.valueType||"constraint"!=t.valueType&&"target"!=t.valueType||(t.value<=e.max?this.state.value=t.value:console.log("problem - variable value exceeds constraint max",this)),"variable"!=t.valueType||"constraint"!=e.valueType&&"target"!=e.valueType||(e.value<=t.max?this.state.value=e.value:console.log("problem - variable value exceeds constraint max",this))}}return t.BatteryStorageNode=eu,t.ControllerNode=tu,t.GridExportNode=Kc,t.GridSupplyNode=Qc,t.Link=au,t.LoadNode=Zc,t.Log=n,t.Model=class extends Wc{constructor(t){super(t=t||{});const e=t.config||{},n={};n.timeVarying=e.timeVarying||!1,n.timeSteps=e.timeSteps||1,n.timeStepSize=e.timeStepSize||1,this.config=n,this.timeStep=0}get availableNodeClasses(){return[eu,tu,Kc,Qc,Zc,Jc,nu,iu,ru]}get availableLinkClasses(){return[au]}setTimeStep(t){this.timeStep=t,this.nodes.forEach((e=>e.timeStep=t))}setTimeStepSize(t){this.config.timeStepSize=t,this.nodes.forEach((e=>e.timeStepSize=t))}run(){const t=this.nodes,e=this.links,n=this.logs,i=this.config.timeVarying,r=this.config.timeSteps,a=this.config.timeStepSize;this.setTimeStepSize(a),i||(this.timeSteps=1),t.forEach((t=>t.initState()));for(let i=0;i<r;i++)this.setTimeStep(i),t.forEach((t=>t.setConstraints())),t.filter((t=>"controllerNode"===t.type)).forEach((t=>t.setFluxTargets())),e.forEach((t=>t.setFlux())),t.forEach((t=>t.updateState())),n.forEach((t=>t.writeToLog()))}},t.Socket=e,t.SolarPVNode=Jc,t}({});
//# sourceMappingURL=visual-modeller-energy.min.js.map
